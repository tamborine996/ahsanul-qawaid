<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ahsanul Qawaid</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-cream: #FDF8F3;
            --bg-warm: #F9F1E8;
            --teal-deep: #1A6B6B;
            --teal-light: #2A9D8F;
            --gold: #D4A853;
            --gold-light: #E8C97A;
            --coral: #E07A5F;
            --coral-soft: #F2A999;
            --navy: #264653;
            --text-dark: #2C3E50;
            --text-muted: #6B7C8A;
            --white: #FFFFFF;
            --shadow-soft: 0 4px 20px rgba(26, 107, 107, 0.1);
            --shadow-lifted: 0 8px 32px rgba(26, 107, 107, 0.15);
            --radius-soft: 16px;
            --radius-round: 24px;

            /* Harakat colors */
            --fatha-color: #E53935;
            --kasra-color: #43A047;
            --damma-color: #1E88E5;
            --sukoon-color: #8E24AA;
            --shadda-color: #F4511E;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: var(--bg-cream);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Geometric Pattern Background */
        .pattern-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
            background-image:
                radial-gradient(circle at 20% 80%, var(--gold-light) 1px, transparent 1px),
                radial-gradient(circle at 80% 20%, var(--teal-light) 1px, transparent 1px);
            background-size: 60px 60px, 80px 80px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal-light) 100%);
            padding: 1rem 1.5rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-soft);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gold);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Amiri', serif;
            font-size: 1.5rem;
            color: var(--white);
        }

        .logo-text h1 {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--white);
        }

        .header-actions {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .shuffle-btn, .practice-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 0.5rem 0.75rem;
            border-radius: 20px;
            color: var(--white);
            font-family: 'Quicksand', sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: all 0.3s ease;
        }

        .shuffle-btn:hover, .practice-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .shuffle-btn.active {
            background: var(--gold);
        }

        .practice-btn {
            background: var(--coral);
        }

        .practice-btn .count {
            background: var(--white);
            color: var(--coral);
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
        }

        .practice-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Main Content */
        .main {
            max-width: 900px;
            margin: 0 auto;
            padding: 1.5rem;
            position: relative;
            z-index: 1;
        }

        /* Lesson Navigation */
        .lessons-nav {
            display: flex;
            gap: 0.4rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .lesson-tab {
            padding: 0.5rem 0.8rem;
            border: none;
            background: var(--white);
            border-radius: var(--radius-round);
            font-family: 'Quicksand', sans-serif;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-soft);
            position: relative;
        }

        .lesson-tab:hover {
            background: var(--bg-warm);
            color: var(--teal-deep);
            transform: translateY(-2px);
        }

        .lesson-tab.active {
            background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal-light) 100%);
            color: var(--white);
        }

        .lesson-tab.completed::after {
            content: 'âœ“';
            position: absolute;
            top: -4px;
            right: -4px;
            background: var(--teal-light);
            color: white;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            font-size: 0.6rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Lesson Header */
        .lesson-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .lesson-header h2 {
            font-size: 1.5rem;
            color: var(--navy);
            margin-bottom: 0.25rem;
        }

        .lesson-header .arabic-title {
            font-family: 'Amiri', serif;
            font-size: 1.75rem;
            color: var(--teal-deep);
            margin-bottom: 0.5rem;
        }

        .lesson-header .description {
            color: var(--text-muted);
            font-size: 0.9rem;
            max-width: 500px;
            margin: 0 auto 0.75rem;
        }

        .lesson-header .kid-tip {
            background: linear-gradient(135deg, var(--gold-light) 0%, var(--gold) 100%);
            color: var(--navy);
            padding: 0.6rem 1.2rem;
            border-radius: var(--radius-soft);
            display: inline-block;
            font-size: 0.85rem;
            font-weight: 500;
        }

        /* Symbol intro card */
        .symbol-card {
            background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal-light) 100%);
            color: var(--white);
            border-radius: var(--radius-soft);
            padding: 1.25rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .symbol-card .symbol {
            font-family: 'Amiri', serif;
            font-size: 3rem;
            margin: 0.5rem 0;
        }

        .symbol-card .symbol .haraka-fatha { color: #FFCDD2; }
        .symbol-card .symbol .haraka-kasra { color: #C8E6C9; }
        .symbol-card .symbol .haraka-damma { color: #BBDEFB; }

        .symbol-card p {
            font-size: 0.9rem;
            opacity: 0.95;
        }

        /* Section headers */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--bg-warm);
        }

        .section-header h3 {
            font-size: 1rem;
            color: var(--navy);
        }

        .section-header .chunk-nav {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .chunk-nav button {
            background: var(--bg-warm);
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .chunk-nav button:hover:not(:disabled) {
            background: var(--teal-light);
            color: white;
        }

        .chunk-nav button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Card Grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            gap: 0.75rem;
            direction: rtl;
        }

        .card-grid.exercise-grid {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        }

        /* Individual Card */
        .card {
            background: var(--white);
            border-radius: var(--radius-soft);
            padding: 1rem 0.75rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-soft);
            position: relative;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--teal-light), var(--gold));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lifted);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card:active {
            transform: scale(0.98);
        }

        /* Needs Practice State */
        .card.needs-practice {
            background: linear-gradient(135deg, #FFF5F3 0%, #FFEBE6 100%);
            border: 2px solid var(--coral);
        }

        .card.needs-practice::before {
            opacity: 1;
            background: linear-gradient(90deg, var(--coral), var(--coral-soft));
        }

        .card.needs-practice .practice-dot {
            display: block;
        }

        .practice-dot {
            display: none;
            position: absolute;
            top: 6px;
            right: 6px;
            width: 8px;
            height: 8px;
            background: var(--coral);
            border-radius: 50%;
        }

        /* Long Press Visual Feedback - Circular Progress Ring */
        .card.pressing {
            transform: scale(0.96);
        }

        .card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            border: 3px solid transparent;
            pointer-events: none;
        }

        .card.pressing::after {
            border-color: var(--coral);
            animation: ring-fill 0.5s linear forwards;
        }

        @keyframes ring-fill {
            0% { clip-path: polygon(50% 50%, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%, 50% 0%); }
            12.5% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%, 100% 0%); }
            25% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 50%, 100% 50%, 100% 50%); }
            37.5% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 100% 100%, 100% 100%); }
            50% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 50% 100%); }
            62.5% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%); }
            75% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 50%); }
            87.5% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 50%, 0% 0%); }
            100% { clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 50%, 100% 100%, 50% 100%, 0% 100%, 0% 50%, 0% 0%, 50% 0%); }
        }

        /* Audio playing feedback */
        .card.playing {
            animation: audio-pulse 0.3s ease;
        }

        @keyframes audio-pulse {
            0% { box-shadow: var(--shadow-soft); }
            50% { box-shadow: 0 0 0 4px rgba(59, 148, 142, 0.3), var(--shadow-soft); }
            100% { box-shadow: var(--shadow-soft); }
        }

        /* Sound wave icon */
        .sound-wave {
            position: absolute;
            top: 4px;
            left: 4px;
            font-size: 0.7rem;
            opacity: 0.4;
            color: var(--teal);
        }

        .press-indicator {
            display: none; /* deprecated, using ring now */
        }

        /* Arabic text in cards */
        .arabic {
            font-family: 'Amiri', serif;
            font-size: 2.5rem;
            color: var(--navy);
            line-height: 1.3;
            direction: rtl;
        }

        .card.exercise-card .arabic {
            font-size: 2rem;
        }

        .card.needs-practice .arabic {
            color: var(--coral);
        }

        /* Harakat coloring */
        .haraka-fatha { color: var(--fatha-color); }
        .haraka-kasra { color: var(--kasra-color); }
        .haraka-damma { color: var(--damma-color); }
        .haraka-sukoon { color: var(--sukoon-color); }
        .haraka-shadda { color: var(--shadda-color); }

        /* Transliteration (hidden by default) */
        .translit {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
            opacity: 0;
            transition: opacity 0.3s;
            height: 1.2em;
        }

        .card.show-translit .translit {
            opacity: 1;
        }

        /* ==================== */
        /* PRACTICE MODE        */
        /* ==================== */
        .practice-mode {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-cream);
            z-index: 200;
            display: none;
            flex-direction: column;
        }

        .practice-mode.active {
            display: flex;
        }

        .practice-header {
            background: linear-gradient(135deg, var(--coral) 0%, var(--coral-soft) 100%);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .practice-header h2 {
            font-size: 1.1rem;
        }

        .practice-progress {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .practice-exit {
            background: rgba(255,255,255,0.2);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: white;
            font-family: 'Quicksand', sans-serif;
            font-weight: 600;
            cursor: pointer;
        }

        .practice-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .practice-card {
            background: var(--white);
            border-radius: var(--radius-soft);
            padding: 3rem 4rem;
            text-align: center;
            box-shadow: var(--shadow-lifted);
            max-width: 90%;
            position: relative;
        }

        .practice-card .arabic {
            font-size: 5rem;
        }

        .practice-card .translit {
            font-size: 1.2rem;
            margin-top: 1rem;
            height: auto;
        }

        .practice-card .tap-hint {
            position: absolute;
            bottom: 1rem;
            left: 0;
            right: 0;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .practice-card .unmark-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--coral-soft);
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.7rem;
            color: var(--coral);
            font-weight: 600;
            cursor: pointer;
        }

        .practice-nav {
            display: flex;
            justify-content: center;
            gap: 2rem;
            padding: 1.5rem;
        }

        .practice-nav button {
            background: var(--teal-light);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .practice-nav button:hover {
            background: var(--teal-deep);
            transform: scale(1.1);
        }

        .practice-nav button:disabled {
            background: var(--text-muted);
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* ==================== */
        /* LESSON COMPLETE      */
        /* ==================== */
        .lesson-complete-btn {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 2rem auto;
            padding: 1rem;
            background: linear-gradient(135deg, var(--teal-deep) 0%, var(--teal-light) 100%);
            border: none;
            border-radius: var(--radius-round);
            color: white;
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lesson-complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lifted);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .header-content {
                flex-wrap: wrap;
                gap: 0.75rem;
            }

            .card-grid {
                grid-template-columns: repeat(auto-fill, minmax(75px, 1fr));
                gap: 0.5rem;
            }

            .card-grid.exercise-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }

            .arabic {
                font-size: 2rem;
            }

            .card.exercise-card .arabic {
                font-size: 1.6rem;
            }

            .practice-card .arabic {
                font-size: 4rem;
            }

            .practice-card {
                padding: 2rem;
            }

            .lesson-tab {
                padding: 0.4rem 0.6rem;
                font-size: 0.7rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeInUp 0.3s ease-out backwards;
        }

        /* Stagger animation */
        .card:nth-child(1) { animation-delay: 0.02s; }
        .card:nth-child(2) { animation-delay: 0.04s; }
        .card:nth-child(3) { animation-delay: 0.06s; }
        .card:nth-child(4) { animation-delay: 0.08s; }
        .card:nth-child(5) { animation-delay: 0.10s; }
        .card:nth-child(6) { animation-delay: 0.12s; }
        .card:nth-child(7) { animation-delay: 0.14s; }
        .card:nth-child(8) { animation-delay: 0.16s; }
    </style>
</head>
<body>
    <div class="pattern-bg"></div>

    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">Ø§</div>
                <div class="logo-text">
                    <h1>Ahsanul Qawaid</h1>
                </div>
            </div>
            <div class="header-actions">
                <button class="shuffle-btn" id="shuffleBtn" title="Shuffle exercises">
                    <span>ğŸ”€</span> Shuffle
                </button>
                <button class="practice-btn" id="practiceBtn" disabled title="Practice marked items">
                    <span>Practice</span>
                    <span class="count" id="practiceCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <main class="main">
        <nav class="lessons-nav" id="lessonsNav"></nav>
        <div id="lessonContent"></div>
    </main>

    <footer class="footer">
        <p>Tap to hear Â· Hold to mark for practice</p>
    </footer>

    <!-- Practice Mode Overlay -->
    <div class="practice-mode" id="practiceMode">
        <div class="practice-header">
            <h2>Practice Mode</h2>
            <span class="practice-progress" id="practiceProgress">1 of 5</span>
            <button class="practice-exit" id="practiceExit">Done</button>
        </div>
        <div class="practice-content">
            <div class="practice-card" id="practiceCard">
                <button class="unmark-btn" id="unmarkBtn">Remove âœ•</button>
                <div class="arabic" id="practiceArabic"></div>
                <div class="translit" id="practiceTranslit"></div>
                <div class="tap-hint">Tap to reveal pronunciation</div>
            </div>
        </div>
        <div class="practice-nav">
            <button id="practicePrev">â†</button>
            <button id="practiceNext">â†’</button>
        </div>
    </div>

    <script>
        // =====================================================
        // LESSON DATA - Complete Ahsanul Qawaid Book
        // =====================================================

        const arabicLetters = [
            { letter: 'Ø§', name: 'Alif', sound: '' },
            { letter: 'Ø¨', name: 'Ba', sound: 'b' },
            { letter: 'Øª', name: 'Ta', sound: 't' },
            { letter: 'Ø«', name: 'Tha', sound: 'th' },
            { letter: 'Ø¬', name: 'Jim', sound: 'j' },
            { letter: 'Ø­', name: 'Ha', sound: 'h' },
            { letter: 'Ø®', name: 'Kha', sound: 'kh' },
            { letter: 'Ø¯', name: 'Dal', sound: 'd' },
            { letter: 'Ø°', name: 'Dhal', sound: 'dh' },
            { letter: 'Ø±', name: 'Ra', sound: 'r' },
            { letter: 'Ø²', name: 'Zay', sound: 'z' },
            { letter: 'Ø³', name: 'Sin', sound: 's' },
            { letter: 'Ø´', name: 'Shin', sound: 'sh' },
            { letter: 'Øµ', name: 'Sad', sound: 's' },
            { letter: 'Ø¶', name: 'Dad', sound: 'd' },
            { letter: 'Ø·', name: 'Ta', sound: 't' },
            { letter: 'Ø¸', name: 'Dha', sound: 'dh' },
            { letter: 'Ø¹', name: 'Ayn', sound: '\'' },
            { letter: 'Øº', name: 'Ghayn', sound: 'gh' },
            { letter: 'Ù', name: 'Fa', sound: 'f' },
            { letter: 'Ù‚', name: 'Qaf', sound: 'q' },
            { letter: 'Ùƒ', name: 'Kaf', sound: 'k' },
            { letter: 'Ù„', name: 'Lam', sound: 'l' },
            { letter: 'Ù…', name: 'Mim', sound: 'm' },
            { letter: 'Ù†', name: 'Nun', sound: 'n' },
            { letter: 'Ù‡', name: 'Ha', sound: 'h' },
            { letter: 'Ùˆ', name: 'Waw', sound: 'w' },
            { letter: 'Ø¡', name: 'Hamza', sound: '\'' },
            { letter: 'ÙŠ', name: 'Ya', sound: 'y' }
        ];

        const lessons = {
            1: {
                title: 'Arabic Alphabet',
                arabicTitle: 'Ø§Ù„Ø­ÙØ±ÙÙˆÙ Ø§Ù„Ø¹ÙØ±ÙØ¨ÙÙŠÙÙ‘Ø©',
                description: 'The 29 letters of the Arabic alphabet',
                kidTip: 'These are all the Arabic letters! Tap each one to see its name.',
                type: 'alphabet'
            },
            2: {
                title: 'Fatha',
                arabicTitle: 'ÙÙØªÙ’Ø­ÙØ©',
                symbol: 'Ø¨Ù',
                description: 'The "a" sound - a small line above the letter',
                kidTip: 'Like the "a" in "cat" - short and quick!',
                haraka: 'Ù',
                sound: 'a',
                type: 'haraka',
                exercises: [
                    { arabic: 'Ø£ÙÙ…ÙØ±Ù', translit: 'amara' },
                    { arabic: 'Ø¨ÙÙ„ÙØºÙ', translit: 'balagha' },
                    { arabic: 'Ø«ÙÙ…ÙØ±Ù', translit: 'thamara' },
                    { arabic: 'Ø¬ÙÙ…ÙØ¹Ù', translit: 'jama\'a' },
                    { arabic: 'Ø­ÙØ³ÙØ¯Ù', translit: 'hasada' },
                    { arabic: 'Ø°ÙÙƒÙØ±Ù', translit: 'dhakara' },
                    { arabic: 'Ø±ÙÙÙØ¹Ù', translit: 'rafa\'a' },
                    { arabic: 'Ø²ÙØ¹ÙÙ…Ù', translit: 'za\'ama' },
                    { arabic: 'Ø³ÙØ±ÙÙ‚Ù', translit: 'saraqa' },
                    { arabic: 'ØµÙØ¯ÙÙ‚Ù', translit: 'sadaqa' },
                    { arabic: 'Ø¶ÙØ±ÙØ¨Ù', translit: 'daraba' },
                    { arabic: 'Ø¸ÙÙ„ÙÙ…Ù', translit: 'dhalama' },
                    { arabic: 'Ø¹ÙØ¯ÙÙ„Ù', translit: '\'adala' },
                    { arabic: 'Ù‚ÙÙ…ÙØ±Ù', translit: 'qamara' },
                    { arabic: 'ÙƒÙØ³ÙØ¨Ù', translit: 'kasaba' },
                    { arabic: 'ÙˆÙØ¬ÙØ¯Ù', translit: 'wajada' }
                ]
            },
            3: {
                title: 'Kasra',
                arabicTitle: 'ÙƒÙØ³Ù’Ø±ÙØ©',
                symbol: 'Ø¨Ù',
                description: 'The "i" sound - a small line below the letter',
                kidTip: 'Like the "i" in "sit" - short and quick!',
                haraka: 'Ù',
                sound: 'i',
                type: 'haraka',
                exercises: [
                    { arabic: 'Ø£ÙØ°ÙÙ†Ù', translit: 'adhina' },
                    { arabic: 'Ø¨ÙÙ‚ÙÙŠÙ', translit: 'baqiya' },
                    { arabic: 'Ø­ÙÙ…ÙØ¯Ù', translit: 'hamida' },
                    { arabic: 'Ø®ÙØ´ÙÙŠÙ', translit: 'khashiya' },
                    { arabic: 'Ø³ÙØ®ÙØ±Ù', translit: 'sakhira' },
                    { arabic: 'Ø´ÙØ±ÙØ¨Ù', translit: 'shariba' },
                    { arabic: 'Ø¹ÙØ¬ÙØ¨Ù', translit: '\'ajiba' },
                    { arabic: 'ØºÙØ¶ÙØ¨Ù', translit: 'ghadiba' },
                    { arabic: 'ÙƒÙØ°ÙØ¨Ù', translit: 'kadhiba' },
                    { arabic: 'Ø¨ÙØ®ÙÙ„Ù', translit: 'bakhila' },
                    { arabic: 'ÙÙÙ„ÙÙ…Ù', translit: 'falima' },
                    { arabic: 'ÙŠÙØ¦ÙØ³Ù', translit: 'ya\'isa' },
                    { arabic: 'Ø¨ÙÙ„ÙØ§Ø¯Ù', translit: 'biladin' },
                    { arabic: 'Ù…ÙÙ„ÙÙƒÙ', translit: 'malikin' },
                    { arabic: 'Ø­ÙØ·ÙØ¨Ù', translit: 'hatiba' },
                    { arabic: 'ÙƒÙØ¨ÙØ¯Ù', translit: 'kabida' },
                    { arabic: 'Ø¹ÙÙ„ÙÙ…Ù', translit: '\'alima' },
                    { arabic: 'Ø¥ÙØ±ÙÙ…Ù', translit: 'irama' }
                ]
            },
            4: {
                title: 'Damma',
                arabicTitle: 'Ø¶ÙÙ…ÙÙ‘Ø©',
                symbol: 'Ø¨Ù',
                description: 'The "u" sound - a small curl above the letter',
                kidTip: 'Like the "u" in "put" - round your lips!',
                haraka: 'Ù',
                sound: 'u',
                type: 'haraka',
                exercises: [
                    { arabic: 'Ø¬ÙØ¹ÙÙ„Ù', translit: 'ju\'ila' },
                    { arabic: 'Ø®ÙÙ„ÙÙ‚Ù', translit: 'khuliqa' },
                    { arabic: 'Ø°ÙÙƒÙØ±Ù', translit: 'dhukira' },
                    { arabic: 'Ø³ÙØ¦ÙÙ„Ù', translit: 'su\'ila' },
                    { arabic: 'Ø¸ÙÙ„ÙÙ…Ù', translit: 'dhulima' },
                    { arabic: 'Ù…ÙÙ†ÙØ¹Ù', translit: 'muni\'a' },
                    { arabic: 'Ù„ÙØ¹ÙÙ†Ù', translit: 'lu\'ina' },
                    { arabic: 'Ù‡ÙØ¯ÙÙŠÙ', translit: 'hudiya' },
                    { arabic: 'ÙˆÙØ¬ÙØ¯Ù', translit: 'wujida' },
                    { arabic: 'Ø³ÙÙ‚ÙØ·Ù', translit: 'suqita' },
                    { arabic: 'Ø­ÙØ´ÙØ±Ù', translit: 'hushira' },
                    { arabic: 'ØµÙØ­ÙÙÙ', translit: 'suhufin' },
                    { arabic: 'Ø£ÙØ°ÙÙ†ÙŒ', translit: 'udhunun' },
                    { arabic: 'Ø±ÙØ¨ÙØ¹Ù', translit: 'rubu\'a' },
                    { arabic: 'ÙŠÙØ±ÙØ«Ù', translit: 'yarithu' },
                    { arabic: 'ÙŠÙØ¹ÙØ¯Ù', translit: 'ya\'idu' }
                ]
            },
            5: {
                title: 'Fathatain',
                arabicTitle: 'ÙÙØªÙ’Ø­ÙØªÙÙŠÙ’Ù†',
                symbol: 'Ø¨Ù‹Ø§',
                description: 'The "an" sound - double fatha, usually with alif',
                kidTip: 'Say "an" at the end - like "ban" without the "b"!',
                haraka: 'Ù‹',
                sound: 'an',
                type: 'tanween',
                exercises: [
                    { arabic: 'Ø£ÙØ¨ÙØ¯Ù‹Ø§', translit: 'abadan' },
                    { arabic: 'Ø±ÙØºÙØ¯Ù‹Ø§', translit: 'raghadan' },
                    { arabic: 'Ø·ÙØ¨ÙÙ‚Ù‹Ø§', translit: 'tabaqan' },
                    { arabic: 'Ø¬ÙÙ†ÙÙÙ‹Ø§', translit: 'janafan' },
                    { arabic: 'Ù…ÙÙ„ÙÙƒÙ‹Ø§', translit: 'malikan' },
                    { arabic: 'Ù…ÙØ«ÙÙ„Ù‹Ø§', translit: 'mathalan' },
                    { arabic: 'Ø¹ÙÙ†ÙØ¨Ù‹Ø§', translit: '\'inaban' },
                    { arabic: 'Ù‚ÙØµÙØµÙ‹Ø§', translit: 'qasasan' },
                    { arabic: 'Ù„ÙØ¹ÙØ¨Ù‹Ø§', translit: 'la\'iban' },
                    { arabic: 'Ø«ÙÙ…ÙÙ†Ù‹Ø§', translit: 'thamanan' },
                    { arabic: 'Ø£ÙØ³ÙÙÙ‹Ø§', translit: 'asafan' },
                    { arabic: 'Ù‚ÙØ¯ÙØ±Ù‹Ø§', translit: 'qadaran' },
                    { arabic: 'Ù„ÙØ¨ÙÙ†Ù‹Ø§', translit: 'labanan' },
                    { arabic: 'ÙƒÙØ°ÙØ¨Ù‹Ø§', translit: 'kadhiban' },
                    { arabic: 'Ø´ÙØ·ÙØ·Ù‹Ø§', translit: 'shatatan' },
                    { arabic: 'Ø³ÙØ±ÙØ±Ù‹Ø§', translit: 'sururan' },
                    { arabic: 'Ø±ÙØ³ÙÙ„Ù‹Ø§', translit: 'rusulan' },
                    { arabic: 'Ø¹ÙÙ„ÙÙ‚ÙØ©Ù‹', translit: '\'alaqatan' },
                    { arabic: 'Ø¨ÙÙ‚ÙØ±ÙØ©Ù‹', translit: 'baqaratan' },
                    { arabic: 'Ø­ÙØ³ÙÙ†ÙØ©Ù‹', translit: 'hasanatan' }
                ]
            },
            6: {
                title: 'Kasratain',
                arabicTitle: 'ÙƒÙØ³Ù’Ø±ÙØªÙÙŠÙ’Ù†',
                symbol: 'Ø¨Ù',
                description: 'The "in" sound - double kasra below the letter',
                kidTip: 'Say "in" at the end - like "bin" without the "b"!',
                haraka: 'Ù',
                sound: 'in',
                type: 'tanween',
                exercises: [
                    { arabic: 'Ø¹ÙÙ…ÙØ¯Ù', translit: '\'amadin' },
                    { arabic: 'Ø·ÙØ¨ÙÙ‚Ù', translit: 'tabaqin' },
                    { arabic: 'ÙƒÙØ¨ÙØ¯Ù', translit: 'kabadin' },
                    { arabic: 'Ø¹ÙÙ„ÙÙ‚Ù', translit: '\'alaqin' },
                    { arabic: 'Ù…ÙØ³ÙØ¯Ù', translit: 'masadin' },
                    { arabic: 'Ù„ÙÙ‡ÙØ¨Ù', translit: 'lahabin' },
                    { arabic: 'Ø³ÙÙ†ÙØ©Ù', translit: 'sanatin' },
                    { arabic: 'Ù†ÙÙ‡ÙØ±Ù', translit: 'naharin' },
                    { arabic: 'Ø´ÙØ¬ÙØ±Ù', translit: 'shajarin' },
                    { arabic: 'ØºÙØ¶ÙØ¨Ù', translit: 'ghadabin' },
                    { arabic: 'Ø³ÙØ­Ù’Ø±Ù', translit: 'sihrin' },
                    { arabic: 'ÙƒÙØ°ÙØ¨Ù', translit: 'kidhabin' },
                    { arabic: 'Ø®ÙØ¨ÙØ±Ù', translit: 'khabarin' },
                    { arabic: 'Ø¨ÙÙ„ÙØ§ØºÙ', translit: 'balaghin' },
                    { arabic: 'Ø­ÙØ²Ù’Ù†Ù', translit: 'huznin' },
                    { arabic: 'Ø°ÙÙƒÙ’Ø±Ù', translit: 'dhikrin' },
                    { arabic: 'Ø«ÙÙ…ÙØ±ÙØ©Ù', translit: 'thamaratin' },
                    { arabic: 'Ø¬ÙØ¨ÙÙ„Ù', translit: 'jabalin' }
                ]
            },
            7: {
                title: 'Dammatain',
                arabicTitle: 'Ø¶ÙÙ…ÙÙ‘ØªÙÙŠÙ’Ù†',
                symbol: 'Ø¨ÙŒ',
                description: 'The "un" sound - double damma above the letter',
                kidTip: 'Say "un" at the end - like "bun" without the "b"!',
                haraka: 'ÙŒ',
                sound: 'un',
                type: 'tanween',
                exercises: [
                    { arabic: 'Ø³ÙØ±ÙØ±ÙŒ', translit: 'sururun' },
                    { arabic: 'Ø£ÙØ°ÙÙ†ÙŒ', translit: 'udhunun' },
                    { arabic: 'ÙƒÙØªÙØ¨ÙŒ', translit: 'kutubun' },
                    { arabic: 'Ø±ÙØ³ÙÙ„ÙŒ', translit: 'rusulun' },
                    { arabic: 'Ø±ÙØ¬ÙÙ„ÙŒ', translit: 'rajulun' },
                    { arabic: 'Ø¬ÙØ¯ÙØ¯ÙŒ', translit: 'jududun' },
                    { arabic: 'Ø£ÙØ­ÙØ¯ÙŒ', translit: 'ahadun' },
                    { arabic: 'Ù‚ÙØ³ÙÙ…ÙŒ', translit: 'qasamun' },
                    { arabic: 'Ø¨ÙØ´ÙØ±ÙŒ', translit: 'basharun' },
                    { arabic: 'Ø³ÙÙ†ÙÙ‘Ø©ÙŒ', translit: 'sunnatun' },
                    { arabic: 'Ù…ÙØ±ÙØ¶ÙŒ', translit: 'maradun' },
                    { arabic: 'Ø­ÙØ±ÙØ¬ÙŒ', translit: 'harajun' },
                    { arabic: 'Ù„ÙØ¹ÙØ¨ÙŒ', translit: 'la\'ibun' },
                    { arabic: 'Ø­ÙØ±ÙÙ…ÙŒ', translit: 'hurumun' },
                    { arabic: 'ÙˆÙÙ„ÙØ¯ÙŒ', translit: 'waladun' },
                    { arabic: 'Ù†ÙØ¬Ù’Ø³ÙŒ', translit: 'najsun' },
                    { arabic: 'ØºÙØ¨ÙØ±ÙØ©ÙŒ', translit: 'ghubaratun' },
                    { arabic: 'Ø¨ÙÙ‚ÙØ±ÙØ©ÙŒ', translit: 'baqaratun' }
                ]
            },
            8: {
                title: 'Madd with Alif',
                arabicTitle: 'Ù…ÙØ¯Ù‘ Ø¨ÙØ§Ù„Ø£ÙÙ„ÙÙ',
                symbol: 'Ø¨ÙØ§',
                description: 'Stretching - when fatha comes before alif, stretch the "aa" sound',
                kidTip: 'Stretch it out like "baaaa" (like a sheep)!',
                type: 'madd',
                letters: arabicLetters.filter(l => l.letter !== 'Ø§').map(l => ({
                    arabic: l.letter + 'ÙØ§',
                    translit: l.name.toLowerCase() + 'aa'
                })),
                exercises: [
                    { arabic: 'Ø°ÙØ§ØªÙ', translit: 'dhaata' },
                    { arabic: 'Ø®ÙØ§ÙÙ', translit: 'khaafa' },
                    { arabic: 'ÙƒÙØ§Ù†Ù', translit: 'kaana' },
                    { arabic: 'Ù‚ÙØ§Ù„Ù', translit: 'qaala' },
                    { arabic: 'Ø±ÙØ§Ù†Ù', translit: 'raana' },
                    { arabic: 'ØªÙØ§Ø¨Ù', translit: 'taaba' },
                    { arabic: 'Ø¹ÙØ§Ø¯Ù', translit: '\'aada' },
                    { arabic: 'Ù†ÙØ§Ø±Ù‹Ø§', translit: 'naaran' },
                    { arabic: 'Ù‡ÙØ§Ø¯Ù', translit: 'haadin' },
                    { arabic: 'Ù…ÙØ§Ù„ÙÙƒÙ', translit: 'maaliku' },
                    { arabic: 'Ø¹ÙØ§Ù…Ù', translit: '\'aamin' },
                    { arabic: 'Ø«ÙÙˆÙØ§Ø¨Ù‹Ø§', translit: 'thawaaban' },
                    { arabic: 'Ø¢ÙÙØ§Ù‚Ù', translit: 'aafaaqa' },
                    { arabic: 'ÙŠÙØ®ÙØ§ÙÙ', translit: 'yakhaafu' },
                    { arabic: 'Ø£ÙØµÙØ§Ø¨Ù', translit: 'asaaba' },
                    { arabic: 'Ø¬ÙÙ†ÙØ§Ø­Ù', translit: 'junaaha' },
                    { arabic: 'Ø¬ÙØ§Ø¹ÙÙ„ÙŒ', translit: 'jaa\'ilun' },
                    { arabic: 'Ø®ÙØ§Ù„ÙØ¯Ù‹Ø§', translit: 'khaalidan' },
                    { arabic: 'ÙƒÙØ§ØªÙØ¨Ù', translit: 'kaatiba' },
                    { arabic: 'Ø¹ÙØ§Ø¨ÙØ¯Ù', translit: '\'aabidu' },
                    { arabic: 'Ø­ÙØ§ÙÙØ¸Ù', translit: 'haafidhu' },
                    { arabic: 'ÙÙÙˆÙØ§ÙƒÙÙ‡Ù', translit: 'fawaakiha' }
                ]
            },
            9: {
                title: 'Standing Fatha',
                arabicTitle: 'ÙÙØªÙ’Ø­ÙØ© Ù‚ÙØ§Ø¦ÙÙ…ÙØ©',
                symbol: 'Ø¨Ù°',
                description: 'A small alif above the letter - same "aa" sound as Madd with Alif',
                kidTip: 'See the tiny stick above? Stretch it like "baaaa"!',
                type: 'madd',
                exercises: [
                    { arabic: 'Ø§Ù°Ù„Ù', translit: 'aala' },
                    { arabic: 'Ø§Ù°Ø¯ÙÙ…Ù', translit: 'aadama' },
                    { arabic: 'Ø§Ù°Ù…ÙÙ†Ù', translit: 'aamana' },
                    { arabic: 'Ø°Ù°Ù„ÙÙƒÙ', translit: 'dhaalika' },
                    { arabic: 'Ø§Ù°Ø«ÙØ±Ù', translit: 'aathara' },
                    { arabic: 'Ø§Ù°Ø®ÙØ±Ù', translit: 'aakhara' },
                    { arabic: 'Ø³ÙÙ„Ù°Ù…ÙŒ', translit: 'salaamun' },
                    { arabic: 'Ø­Ù°Ù„Ù‹Ø§', translit: 'haalan' },
                    { arabic: 'Ù…ÙØ§Ù°Ø¨Ù‹Ø§', translit: 'ma\'aaban' },
                    { arabic: 'ÙƒÙØªÙ°Ø¨ÙŒ', translit: 'kitaabun' },
                    { arabic: 'Ø§Ù°ÙŠÙØ©ÙŒ', translit: 'aayatun' },
                    { arabic: 'Ø®ÙÙ„Ù°Ø¦ÙÙƒÙ', translit: 'khalaa\'ika' },
                    { arabic: 'Ø±ÙØ³Ù°Ù„ÙØªÙ', translit: 'risaalatin' },
                    { arabic: 'ÙƒÙÙ„ÙÙ…Ù°ØªÙ', translit: 'kalimaatin' },
                    { arabic: 'Ù‚Ù°Ù†ÙØªÙØªÙ’', translit: 'qaanitatun' },
                    { arabic: 'Ø­Ù°ÙÙØ¸Ù°ØªÙ', translit: 'haafidhaatu' },
                    { arabic: 'Ø³ÙÙ…Ù°ÙˆÙ°ØªÙ', translit: 'samaawaatin' }
                ]
            },
            10: {
                title: 'Standing Kasra & Inverted Damma',
                arabicTitle: 'ÙƒÙØ³Ù’Ø±ÙØ© Ù‚ÙØ§Ø¦ÙÙ…ÙØ© ÙˆÙ Ø¶ÙÙ…ÙÙ‘Ø© Ù…ÙÙ‚Ù’Ù„ÙÙˆØ¨ÙØ©',
                symbol: 'Ø¨ÙÙŠ / Ø¨ÙÙˆ',
                description: 'Standing kasra (Ù‰) = "ee" sound. Inverted damma (Û¥) = "oo" sound.',
                kidTip: 'Tiny ya below = "ee". Tiny waw above = "oo"!',
                type: 'madd',
                letters: [
                    { arabic: 'Ø§Ù', translit: 'ii' },
                    { arabic: 'Ø¡Ù', translit: 'ii' },
                    { arabic: 'ÙŠÙ', translit: 'yii' },
                    { arabic: 'Ø§Û¤', translit: 'ii' },
                    { arabic: 'Ø¡Û¤', translit: 'ii' },
                    { arabic: 'ÙŠÛ¤', translit: 'yii' },
                    { arabic: 'ÙˆÙ', translit: 'uu' },
                    { arabic: 'Ø¡Ù', translit: 'uu' },
                    { arabic: 'Ù±Ù', translit: 'uu' },
                    { arabic: 'ÙˆÙ—', translit: 'uu' },
                    { arabic: 'Ø¡Ù—', translit: 'uu' },
                    { arabic: 'Ù±Ù—', translit: 'uu' }
                ],
                exercises: [
                    { arabic: 'Ø¥ÙÙ„Ù°Ù‡ÙŒ', translit: 'ilaahun' },
                    { arabic: 'Ù‡Ù°Ø°ÙÙ‡Ù', translit: 'haadhihi' },
                    { arabic: 'Ø§Ù°ÙŠÙ°ØªÙÙ‡Ù', translit: 'aayaatihi' },
                    { arabic: 'Ø¨ÙÙŠÙØ¯ÙÙ‡Ù', translit: 'biyadihi' },
                    { arabic: 'ØµÙØ§Ø­ÙØ¨ÙØªÙÙ‡Ù', translit: 'saahibatihi' },
                    { arabic: 'ÙŠÙØ±Ù°Ù‡Ù', translit: 'yaraahu' },
                    { arabic: 'ÙˆÙØ±ÙÙŠÙ', translit: 'wariya' },
                    { arabic: 'ÙƒÙØªÙ°Ø¨ÙÙ‡Ù', translit: 'kitaabahu' },
                    { arabic: 'ØºÙØ§ÙˆÙÙ†Ù', translit: 'ghaawuna' },
                    { arabic: 'Ø¯ÙØ§ÙˆÙØ¯Ù', translit: 'daawuda' }
                ]
            },
            11: {
                title: 'Sukoon',
                arabicTitle: 'Ø³ÙÙƒÙÙˆÙ†',
                symbol: 'Ø¨Ù’',
                description: 'A small circle above - the letter has no vowel, just its sound',
                kidTip: 'See the tiny circle? Stop the sound short - no "a", "i", or "u"!',
                haraka: 'Ù’',
                type: 'sukoon',
                letters: arabicLetters.map(l => ({
                    arabic: 'Ø§Ù' + l.letter + 'Ù’',
                    translit: 'a' + l.name.toLowerCase().charAt(0)
                })),
                exercises: [
                    { arabic: 'Ø£ÙÙˆÙ’Ù‡ÙÙ†Ù', translit: 'awhana' },
                    { arabic: 'ØªÙÙˆÙ’Ø¨ÙØ©Ù‹', translit: 'tawbatan' },
                    { arabic: 'Ø­ÙÙˆÙ’Ù„ÙÙ‡Ù', translit: 'hawlahu' },
                    { arabic: 'Ø®ÙÙˆÙ’ÙÙ', translit: 'khawfin' },
                    { arabic: 'Ø±ÙÙˆÙ’Ø­ÙŒ', translit: 'rawhun' },
                    { arabic: 'Ø²ÙÙˆÙ’Ø¬Ù‹Ø§', translit: 'zawjan' },
                    { arabic: 'Ø³ÙÙˆÙ’ÙÙ', translit: 'sawfa' },
                    { arabic: 'ØºÙÙˆÙ’Ø±Ù‹Ø§', translit: 'ghawran' },
                    { arabic: 'ÙÙÙˆÙ’ØªÙ', translit: 'fawta' },
                    { arabic: 'ÙƒÙÙˆÙ’Ø«ÙØ±Ù', translit: 'kawthara' },
                    { arabic: 'Ù„ÙÙˆÙ’Ù…ÙØ©Ù', translit: 'lawmata' },
                    { arabic: 'Ù…ÙÙˆÙ’ØªÙÙ‡ÙØ§', translit: 'mawtihaa' },
                    { arabic: 'Ù†ÙÙˆÙ’Ù…ÙŒ', translit: 'nawmun' },
                    { arabic: 'ÙŠÙÙˆÙ’Ù…Ù', translit: 'yawma' },
                    { arabic: 'ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù', translit: 'yawma\'idhin' },
                    { arabic: 'Ø£ÙÙˆÙ’ØªÙØ§Ø¯Ù‹Ø§', translit: 'awtaadan' },
                    { arabic: 'Ø³ÙÙˆÙ’Ø·Ù', translit: 'sawta' },
                    { arabic: 'Ù‚ÙÙˆÙ’Ù„Ù', translit: 'qawla' },
                    { arabic: 'Ù„ÙÙˆÙ’Ø­Ù', translit: 'lawhin' },
                    { arabic: 'ØµÙÙˆÙ’Ù…Ù‹Ø§', translit: 'sawman' }
                ]
            },
            12: {
                title: 'Madd with Waw',
                arabicTitle: 'Ù…ÙØ¯Ù‘ Ø¨ÙØ§Ù„ÙˆÙØ§Ùˆ',
                symbol: 'Ø¨ÙÙˆ',
                description: 'When damma comes before waw with sukoon, stretch the "oo" sound',
                kidTip: 'Round your lips and stretch: "boooo"!',
                type: 'madd',
                letters: arabicLetters.filter(l => l.letter !== 'Ùˆ').map(l => ({
                    arabic: l.letter + 'ÙÙˆÙ’',
                    translit: l.name.toLowerCase() + 'oo'
                })),
                exercises: [
                    { arabic: 'Ø£ÙÙˆØªÙÙŠÙ', translit: 'ootiya' },
                    { arabic: 'Ø¨ÙÙˆØ±ÙÙƒÙ', translit: 'boorika' },
                    { arabic: 'ØªÙÙˆØ±ÙÙˆÙ†Ù', translit: 'tooroona' },
                    { arabic: 'ÙˆÙØ¬ÙÙˆÙ‡Ù', translit: 'wujoohu' },
                    { arabic: 'Ø­ÙÙˆØ±ÙŒ', translit: 'hoorun' },
                    { arabic: 'Ø¯ÙÙˆÙ’Ù„ÙØ©Ù‹', translit: 'dawlatan' },
                    { arabic: 'Ø²ÙÙˆØ±Ù‹Ø§', translit: 'zooran' },
                    { arabic: 'ÙŠÙØ³ÙÙˆÙ…ÙÙˆÙ†Ù', translit: 'yasoomona' },
                    { arabic: 'ØµÙÙˆØ±Ù', translit: 'soorin' },
                    { arabic: 'ÙŠÙÙ‚ÙÙˆÙ„ÙÙˆÙ†Ù', translit: 'yaqooloona' },
                    { arabic: 'Ù†ÙÙˆØ­ÙŒ', translit: 'noohun' },
                    { arabic: 'Ù‚ÙÙ„ÙÙˆØ¨Ù', translit: 'qulooba' },
                    { arabic: 'Ø´ÙÙ‡ÙÙˆØ¯ÙŒ', translit: 'shuhoodun' },
                    { arabic: 'Ù‚ÙØ¹ÙÙˆØ¯ÙŒ', translit: 'qu\'oodun' },
                    { arabic: 'Ø«ÙØ¨ÙÙˆØ±Ù‹Ø§', translit: 'thubooran' }
                ]
            },
            13: {
                title: 'Leen Letters',
                arabicTitle: 'Ø­ÙØ±ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘ÙŠÙ†',
                symbol: 'ÙŠÙ’ / ÙˆÙ’',
                description: 'Ya or Waw with sukoon after fatha - makes a soft "ay" or "aw" sound',
                kidTip: 'These make sounds like "ay" in "day" or "ow" in "how"!',
                type: 'leen',
                letters: arabicLetters.map(l => ({
                    arabic: l.letter + 'ÙÙŠÙ’',
                    translit: l.name.toLowerCase() + 'ay'
                })),
                exercises: [
                    { arabic: 'Ø£ÙÙŠÙ’Ù†Ù', translit: 'ayna' },
                    { arabic: 'Ø¨ÙÙŠÙ’ØªÙŒ', translit: 'baytun' },
                    { arabic: 'Ø§Ù°ØªÙÙŠÙ’Ù†ÙØ§', translit: 'aataynaa' },
                    { arabic: 'Ø­ÙÙŠÙ’Ø«Ù', translit: 'haythu' },
                    { arabic: 'Ø®ÙÙŠÙ’Ø±ÙŒ', translit: 'khayrun' },
                    { arabic: 'Ø¨ÙØ¯ÙÙŠÙ’Ù†Ù', translit: 'bidaynin' },
                    { arabic: 'Ù‚ÙØ±ÙÙŠÙ’Ø´Ù', translit: 'qurayshin' },
                    { arabic: 'Ø²ÙÙŠÙ’ØªÙÙˆÙ†Ù', translit: 'zaytoonin' },
                    { arabic: 'Ø´ÙÙŠÙ’Ø¡ÙŒ', translit: 'shay\'un' },
                    { arabic: 'ØµÙÙŠÙ’ÙÙ', translit: 'sayfin' },
                    { arabic: 'Ø¶ÙÙŠÙ’ÙÙ', translit: 'dayfa' },
                    { arabic: 'Ø·ÙÙŠÙ’Ø±Ù', translit: 'tayra' },
                    { arabic: 'Ø¹ÙÙŠÙ’Ù†ÙŒ', translit: '\'aynun' },
                    { arabic: 'ØºÙÙŠÙ’Ø±Ù', translit: 'ghayri' },
                    { arabic: 'ÙƒÙÙŠÙ’Ø¯Ù‹Ø§', translit: 'kaydan' },
                    { arabic: 'ÙˆÙÙŠÙ’Ù„ÙŒ', translit: 'waylun' },
                    { arabic: 'Ù‡ÙØ¯ÙÙŠÙ’Ù†ÙØ§', translit: 'hadaynaa' },
                    { arabic: 'Ù„ÙÙŠÙ’Ø³Ù', translit: 'laysa' }
                ]
            },
            14: {
                title: 'Madd with Ya',
                arabicTitle: 'Ù…ÙØ¯Ù‘ Ø¨ÙØ§Ù„ÙŠÙØ§Ø¡',
                symbol: 'Ø¨ÙÙŠ',
                description: 'When kasra comes before ya with sukoon, stretch the "ee" sound',
                kidTip: 'Smile and stretch: "beeee"!',
                type: 'madd',
                letters: arabicLetters.filter(l => l.letter !== 'ÙŠ').map(l => ({
                    arabic: l.letter + 'ÙÙŠÙ’',
                    translit: l.name.toLowerCase() + 'ee'
                })),
                exercises: [
                    { arabic: 'Ø¥ÙÙŠØªÙÙˆÙ†ÙÙŠ', translit: 'eetoonee' },
                    { arabic: 'Ù…ÙØ¨ÙÙŠÙ†Ù', translit: 'mubeenin' },
                    { arabic: 'ÙŠÙØªÙÙŠÙ…Ù‹Ø§', translit: 'yateeman' },
                    { arabic: 'ÙƒÙØ«ÙÙŠØ±Ù‹Ø§', translit: 'katheeran' },
                    { arabic: 'Ù…ÙØ¬ÙÙŠØ¯ÙŒ', translit: 'majeedun' },
                    { arabic: 'Ù…ÙØ­ÙÙŠØ·ÙŒ', translit: 'muheetun' },
                    { arabic: 'Ø§Ù°Ø®ÙÙŠÙ‡Ù', translit: 'aakheehi' },
                    { arabic: 'Ù†ÙØ°ÙÙŠØ±ÙŒ', translit: 'nadheerun' },
                    { arabic: 'ÙƒÙØ±ÙÙŠÙ…ÙŒ', translit: 'kareemun' },
                    { arabic: 'Ù†ÙØ¬ÙØ²ÙÙŠÙ', translit: 'nujaziya' },
                    { arabic: 'ÙŠÙØ³ÙÙŠØ±Ù‹Ø§', translit: 'yaseeran' },
                    { arabic: 'Ø¨ÙØµÙÙŠØ±Ù‹Ø§', translit: 'baseeran' },
                    { arabic: 'Ù„ÙØ·ÙÙŠÙÙŒ', translit: 'lateefun' },
                    { arabic: 'Ø¹ÙØ¸ÙÙŠÙ…ÙŒ', translit: '\'adheemun' },
                    { arabic: 'Ø¹ÙÙ„ÙÙŠÙ…ÙŒ', translit: '\'aleemun' },
                    { arabic: 'Ø´ÙÙ‡ÙÙŠØ¯ÙŒ', translit: 'shaheedun' },
                    { arabic: 'Ù„ÙØ¨ÙØ«ÙÙŠÙ†Ù', translit: 'libitheena' }
                ]
            },
            15: {
                title: 'Sukoon Combinations',
                arabicTitle: 'ØªÙÙ…ÙØ§Ø±ÙÙŠÙ† Ø§Ù„Ø³ÙÙ‘ÙƒÙÙˆÙ†',
                symbol: 'Ø§ÙÙ†Ù’',
                description: 'Practice reading two-letter combinations with sukoon',
                kidTip: 'Read the first letter, then quickly add the sukoon letter!',
                type: 'sukoon',
                exercises: [
                    { arabic: 'Ø§ÙÙ†Ù’', translit: 'an' },
                    { arabic: 'Ø¥ÙØ°Ù’', translit: 'idh' },
                    { arabic: 'Ø§ÙÙ…Ù’', translit: 'am' },
                    { arabic: 'Ø¥ÙÙ†Ù’', translit: 'in' },
                    { arabic: 'Ø¨ÙÙ„Ù’', translit: 'bal' },
                    { arabic: 'ØªÙØ¨Ù’', translit: 'tub' },
                    { arabic: 'Ø®ÙØ°Ù’', translit: 'khudh' },
                    { arabic: 'Ø¯ÙØ¹Ù’', translit: 'da\'' },
                    { arabic: 'Ø°ÙÙ‚Ù’', translit: 'dhuq' },
                    { arabic: 'Ø³ÙÙ„Ù’', translit: 'sal' },
                    { arabic: 'Ù‚ÙØ¯Ù’', translit: 'qad' },
                    { arabic: 'Ù‚ÙÙ„Ù’', translit: 'qul' },
                    { arabic: 'Ù‚ÙÙ…Ù’', translit: 'qum' },
                    { arabic: 'ÙƒÙÙ…Ù’', translit: 'kam' },
                    { arabic: 'ÙƒÙÙ†Ù’', translit: 'kun' },
                    { arabic: 'Ù„ÙÙ…Ù’', translit: 'lam' },
                    { arabic: 'Ù„ÙÙ†Ù’', translit: 'lan' },
                    { arabic: 'Ù…ÙÙ†Ù’', translit: 'man' },
                    { arabic: 'Ù…ÙÙ†Ù’', translit: 'min' },
                    { arabic: 'Ù‡ÙØ¨Ù’', translit: 'hab' },
                    { arabic: 'Ø¥ÙØ¯Ù’ÙÙØ¹Ù’', translit: 'idfa\'' },
                    { arabic: 'Ø¥ÙØ°Ù’Ù‡ÙØ¨Ù’', translit: 'idhhab' },
                    { arabic: 'Ø§ÙÙ†Ù’Ø²ÙÙ„Ù’', translit: 'inzil' },
                    { arabic: 'Ø§ÙÙ…Ù’Ù‡ÙÙ„Ù’', translit: 'amhil' },
                    { arabic: 'Ø§ÙÙ„Ù’Ù‚ÙØªÙ’', translit: 'alqat' },
                    { arabic: 'Ø£ÙØ­Ù’Ø³ÙÙ†Ù’', translit: 'ahsin' }
                ]
            },
            16: {
                title: 'Silent Letters',
                arabicTitle: 'Ø­ÙØ±ÙÙˆÙ ØºÙÙŠÙ’Ø± Ù…ÙÙ†Ù’Ø·ÙÙˆÙ‚ÙØ©',
                symbol: 'Ø¹ÙÙ„ÙÙ‰',
                description: 'Some letters are written but not pronounced - like the alif at the end',
                kidTip: 'See an alif at the end with no mark? Skip it!',
                type: 'silent',
                exercises: [
                    { arabic: 'Ø¹ÙÙ„ÙÙ‰', translit: '\'alaa' },
                    { arabic: 'Ø¥ÙÙ„ÙÙ‰', translit: 'ilaa' },
                    { arabic: 'Ø§ÙÙˆÙ’Ù„ÙÙ‰', translit: 'oolaa' },
                    { arabic: 'Ù‚ÙÙ‡Ù’Ø¯ÙÙ‰', translit: 'qahdaa' },
                    { arabic: 'Ø£ÙØºÙ’Ù†ÙÙ‰', translit: 'aghnaa' },
                    { arabic: 'ÙŠÙØ­Ù’ÙŠÙÙ‰', translit: 'yahyaa' },
                    { arabic: 'ØªÙØ±Ù’Ø¶ÙÙ‰', translit: 'tardaa' },
                    { arabic: 'Ù…ÙØ§Ø¦ÙØ©Ù‹ ÙˆÙØ§Ù†Ù‹Ø§', translit: 'mi\'atan wa anan' },
                    { arabic: 'Ù…ÙÙ†Ù Ø§Ù„Ù’Ø§ÙÙˆÙ’Ù„ÙÙ‰', translit: 'minal oolaa' },
                    { arabic: 'Ø±ÙØ¶ÙÙˆØ§', translit: 'radoo' },
                    { arabic: 'Ø£ÙÙ…ÙÙ†ÙÙˆØ§', translit: 'aamanoo' },
                    { arabic: 'Ù…ÙØ§Ù„Ù’Ù‚ÙØ§Ø±ÙØ¹ÙØ©Ù', translit: 'maal qaari\'atu' },
                    { arabic: 'ØªÙØ§Ø¨ÙØ§', translit: 'taabaa' },
                    { arabic: 'Ù‚ÙØ§Ù„ÙØ§', translit: 'qaalaa' },
                    { arabic: 'ÙƒÙÙ„ÙÙ‘Ø§', translit: 'kallaa' },
                    { arabic: 'Ù„ÙÙŠÙÙƒÙÙˆÙ†ÙØ§', translit: 'liyakoonaa' },
                    { arabic: 'ÙÙÙ‚ÙÙˆÙ’Ù„ÙØ§', translit: 'faqoolaa' },
                    { arabic: 'Ø¥ÙØ°Ù’Ù‡ÙØ¨ÙØ§', translit: 'idh-habaa' },
                    { arabic: 'Ø´ÙØ¦Ù’ØªÙÙ…ÙØ§', translit: 'shi\'tumaa' },
                    { arabic: 'ÙÙÙ„ÙØ§ ØªÙÙ‚Ù’Ø±ÙØ¨ÙØ§', translit: 'falaa taqrabaa' },
                    { arabic: 'Ø£ÙØ·ÙØ§Ø¹ÙÙˆÙ’Ù†ÙØ§', translit: 'ataa\'oonaa' }
                ]
            },
            17: {
                title: 'Hamzah with Sukoon',
                arabicTitle: 'Ù‡ÙÙ…Ù’Ø²ÙØ© Ø³ÙØ§ÙƒÙÙ†ÙØ©',
                symbol: 'Ø£Ù’',
                description: 'Hamzah (Ø¡) with sukoon makes a hiccup/glottal stop sound',
                kidTip: 'Make a tiny hiccup sound in your throat!',
                type: 'hamza',
                exercises: [
                    { arabic: 'ÙŠÙØ£Ù’ØªÙÙŠÙƒÙÙ…Ù’', translit: 'ya\'teekum' },
                    { arabic: 'ÙˆÙØ£Ù’Ù…ÙØ±Ù’', translit: 'wa\'mur' },
                    { arabic: 'ØªÙØ£Ù’ØªÙÙŠÙ‡ÙÙ…Ù’', translit: 'ta\'teehim' },
                    { arabic: 'Ù…ÙØ£Ù’ÙˆÙØ§Ù‡ÙÙ…Ù’', translit: 'ma\'waahum' },
                    { arabic: 'ÙƒÙØ£Ù’Ø³Ù‹Ø§', translit: 'ka\'san' },
                    { arabic: 'ÙŠÙØ£Ù’Ø¨Ù', translit: 'ya\'ba' },
                    { arabic: 'Ù†ÙØ£Ù’ØªÙ', translit: 'na\'ti' },
                    { arabic: 'Ù‚ÙØ±ÙØ£Ù’ØªÙ', translit: 'qara\'ta' },
                    { arabic: 'Ø¨ÙØ£Ù’Ø³Ù', translit: 'ba\'sin' },
                    { arabic: 'Ù…ÙØ£Ù’ÙƒÙÙˆÙ’Ù„Ù', translit: 'ma\'koolin' },
                    { arabic: 'Ù…ÙØ¤Ù’ØµÙØ¯ÙØ©ÙŒ', translit: 'mu\'sadatun' },
                    { arabic: 'Ø´ÙØ£Ù’Ù†ÙŒ', translit: 'sha\'nun' },
                    { arabic: 'ÙŠÙØ£Ù’Ù…ÙØ±ÙÙƒÙÙ…Ù’', translit: 'ya\'murukum' },
                    { arabic: 'ÙŠÙØ¤Ù’Ù…ÙÙ†Ù’', translit: 'yu\'min' },
                    { arabic: 'ØªÙØ¤Ù’Ø«ÙØ±ÙÙˆÙ†Ù', translit: 'tu\'thiroon' },
                    { arabic: 'ØªÙØ£Ù’ÙƒÙÙ„ÙÙˆÙ†Ù', translit: 'ta\'kuloon' },
                    { arabic: 'ÙŠÙØ¤Ù’ØªÙÙˆÙ†Ù', translit: 'yu\'toon' }
                ]
            },
            18: {
                title: 'Shaddah',
                arabicTitle: 'Ø´ÙØ¯ÙÙ‘Ø©',
                symbol: 'Ø¨ÙÙ‘',
                description: 'A "w" shape above - double the letter (say it twice, merged together)',
                kidTip: 'Press down harder and hold the letter longer!',
                haraka: 'Ù‘',
                type: 'shadda',
                exercises: [
                    { arabic: 'Ø±ÙØ¨ÙÙ‘', translit: 'rabba' },
                    { arabic: 'Ø¥ÙÙ†ÙÙ‘', translit: 'inna' },
                    { arabic: 'Ø«ÙÙ…ÙÙ‘', translit: 'thumma' },
                    { arabic: 'Ø¹ÙÙ…ÙÙ‘', translit: '\'amma' },
                    { arabic: 'Ù…ÙÙ†ÙÙ‘', translit: 'manna' },
                    { arabic: 'Ù…ÙØ¯ÙÙ‘', translit: 'madda' },
                    { arabic: 'Ù‚ÙÙ„ÙÙ‘', translit: 'qalla' },
                    { arabic: 'Ø­ÙØ¬ÙÙ‘', translit: 'hajja' },
                    { arabic: 'Ø£ÙÙ†ÙÙ‘', translit: 'anna' },
                    { arabic: 'Ø´ÙØ±ÙÙ‘', translit: 'sharrin' },
                    { arabic: 'ØµÙÙ„ÙÙ‘', translit: 'salli' },
                    { arabic: 'ØªÙØ¨ÙÙ‘', translit: 'tabba' },
                    { arabic: 'Ø¸ÙÙ†ÙÙ‘', translit: 'dhanna' },
                    { arabic: 'ØµÙØ¨ÙÙ‘', translit: 'sabba' },
                    { arabic: 'Ù…ÙÙ…ÙÙ‘', translit: 'mamma' },
                    { arabic: 'Ø­ÙØ¨ÙÙ‘Ø§', translit: 'hubban' },
                    { arabic: 'Ø¬ÙÙ…ÙÙ‘Ø§', translit: 'jamman' },
                    { arabic: 'Ø¯ÙÙƒÙ‹Ù‘Ø§', translit: 'dikkan' },
                    { arabic: 'Ø´ÙÙ‚Ù‹Ù‘Ø§', translit: 'shaqqan' },
                    { arabic: 'ØµÙÙÙ‹Ù‘Ø§', translit: 'saffan' },
                    { arabic: 'Ø­ÙÙ‚Ù‹Ù‘Ø§', translit: 'haqqan' },
                    { arabic: 'Ø¬ÙÙ„ÙÙ‘', translit: 'jalla' },
                    { arabic: 'ÙƒÙÙ„ÙÙ‘', translit: 'kulla' },
                    { arabic: 'Ø¸ÙÙ„ÙÙ‘', translit: 'dhilli' },
                    { arabic: 'Ø¶ÙØ±ÙÙ‘', translit: 'durri' },
                    { arabic: 'Ø£ÙÙ…ÙÙ‘', translit: 'umma' }
                ]
            },
            19: {
                title: 'Shaddah Practice',
                arabicTitle: 'ØªÙÙ…ÙØ§Ø±ÙÙŠÙ† Ø§Ù„Ø´ÙÙ‘Ø¯ÙÙ‘Ø©',
                symbol: 'Ø§ÙÙ„ÙÙ‘Ø§',
                description: 'More practice with doubled letters in words',
                kidTip: 'Remember: press and hold those doubled letters!',
                type: 'shadda',
                exercises: [
                    { arabic: 'Ø¥ÙÙ„ÙÙ‘Ø§', translit: 'illaa' },
                    { arabic: 'Ø¨ÙÙ„ÙÙ‘Ø§', translit: 'ballaa' },
                    { arabic: 'ÙƒÙÙ„ÙÙ‘Ø§', translit: 'kallaa' },
                    { arabic: 'Ø¥ÙÙŠÙÙ‘Ø§ÙƒÙ', translit: 'iyyaaka' },
                    { arabic: 'Ù…ÙÙ†ÙÙ‘Ø§', translit: 'minnaa' },
                    { arabic: 'Ø£ÙÙ†ÙÙ‘Ù‰', translit: 'annaa' },
                    { arabic: 'Ø­ÙØªÙÙ‘Ù‰', translit: 'hattaa' },
                    { arabic: 'Ø±ÙØ¨ÙÙ‘ÙŠÙ', translit: 'rabbiya' },
                    { arabic: 'Ø£ÙÙ†ÙÙ‘ÙŠ', translit: 'annee' },
                    { arabic: 'Ù„ÙØ´ÙØªÙÙ‘Ù‰', translit: 'lashattaa' },
                    { arabic: 'ØµÙÙ„ÙÙ‘Ù‰', translit: 'sallaa' },
                    { arabic: 'Ø¬ÙÙ„Ù’Ù‡ÙØ§', translit: 'jallahaa' },
                    { arabic: 'Ø²ÙÙƒÙÙ‘Ø§Ù‡ÙØ§', translit: 'zakkaahaa' },
                    { arabic: 'Ø£ÙÙ†ÙØ§Ù’Ø¨ÙÙŠÙ', translit: 'anaabiya' },
                    { arabic: 'Ø§Ù„Ù„Ù‡Ù', translit: 'Allaaha' },
                    { arabic: 'Ø±ÙØ¨ÙÙ‘Ù†ÙØ§', translit: 'rabbanaa' },
                    { arabic: 'ÙÙÙ„ÙÙ…ÙÙ‘Ø§', translit: 'falammaa' },
                    { arabic: 'Ø¥ÙÙ†ÙÙ‘Ù…ÙØ§', translit: 'innamaa' },
                    { arabic: 'ÙƒÙÙ†ÙÙ‘Ø§', translit: 'kunnaa' },
                    { arabic: 'Ø¥ÙÙ†ÙÙ‘Ù‡ÙØ§', translit: 'innahaa' }
                ]
            },
            20: {
                title: 'Madd Rules',
                arabicTitle: 'Ø£ÙØ­Ù’ÙƒÙØ§Ù… Ø§Ù„Ù…ÙØ¯Ù‘',
                symbol: 'Ø¨ÙØ¢ / Ø¨ÙØ¢Ø¡Ù’',
                description: 'Short Madd: stretch 2 counts. Long Madd (before sukoon/shaddah): stretch 4-5 counts.',
                kidTip: 'Short = 1-2-stretch. Long = 1-2-3-4-stretch!',
                type: 'madd-rules',
                exercises: [
                    { arabic: 'Ø¨ÙØ§', translit: 'baa (2)' },
                    { arabic: 'Ø¨ÙÙˆ', translit: 'boo (2)' },
                    { arabic: 'Ø¨ÙÙŠ', translit: 'bee (2)' },
                    { arabic: 'Ø³ÙØ§', translit: 'saa (2)' },
                    { arabic: 'Ø³ÙÙˆ', translit: 'soo (2)' },
                    { arabic: 'Ø³ÙÙŠ', translit: 'see (2)' },
                    { arabic: 'Ø¨ÙØ¢Ø¡Ù', translit: 'baa\'a (4)' },
                    { arabic: 'Ø¬ÙØ¢Ø¡Ù', translit: 'jaa\'a (4)' },
                    { arabic: 'Ø³ÙØ¢Ø¡Ù', translit: 'saa\'a (4)' },
                    { arabic: 'Ø´ÙØ¢Ø¡Ù', translit: 'shaa\'a (4)' },
                    { arabic: 'Ù…ÙØ¢Ø¡ÙÙ‡ÙØ§', translit: 'maa\'ahaa' },
                    { arabic: 'Ø³ÙÙˆÙ’Ø¡Ù', translit: 'soo\'a' },
                    { arabic: 'Ø¹ÙØ·ÙØ¢Ø¡Ù', translit: '\'ataa\'a' },
                    { arabic: 'ØºÙØ«ÙØ¢Ø¡Ù', translit: 'ghuthaa\'a' },
                    { arabic: 'Ù†ÙØ³ÙØ¢Ø¡Ù', translit: 'nisaa\'a' },
                    { arabic: 'Ø£ÙØ¯ÙØ¢Ø¡Ù', translit: 'adaa\'a' },
                    { arabic: 'Ø³ÙÙˆÙØ¢Ø¡Ù', translit: 'sawaa\'a' },
                    { arabic: 'Ø¬ÙØ²ÙØ¢Ø¡Ù', translit: 'jazaa\'u' },
                    { arabic: 'Ø¨ÙÙ„ÙØ¢Ø¡ÙŒ', translit: 'balaa\'un' },
                    { arabic: 'Ø¯ÙÙ…ÙØ¢Ø¡ÙÙƒÙÙ…Ù’', translit: 'dimaa\'ukum' },
                    { arabic: 'Ø­ÙÙ†ÙÙÙØ¢Ø¡Ù', translit: 'hunafaa\'a' },
                    { arabic: 'Ø£ÙÙˆÙ’Ù„ÙÙŠÙØ¢Ø¡Ù', translit: 'awliyaa\'u' },
                    { arabic: 'Ø¬ÙÙŠÙ’Ù“Ø¡Ù', translit: 'jee\'a (6)' },
                    { arabic: 'Ø³ÙÙŠÙ’Ù“Ø¡Ù', translit: 'see\'a (6)' },
                    { arabic: 'ÙŠÙØ¶ÙÙŠÙ’Ù“Ø¡Ù', translit: 'yudee\'u (6)' },
                    { arabic: 'Ø¨ÙØ±ÙÙŠÙ’Ù“Ø¡ÙŒ', translit: 'baree\'un' },
                    { arabic: 'Ø®ÙØ·ÙÙŠÙ’Ù“Ø¦ÙØ©ÙŒ', translit: 'khatee\'atun' }
                ]
            },
            21: {
                title: 'Combined Practice 1',
                arabicTitle: 'ØªÙÙ…ÙØ§Ø±ÙÙŠÙ† Ù…ÙØ±ÙÙƒÙÙ‘Ø¨ÙØ© Ù¡',
                description: 'Practice combining all the rules you\'ve learned',
                kidTip: 'Use everything you know - take it slow!',
                type: 'combined',
                exercises: [
                    { arabic: 'Ø¶ÙØ§Ù„Ù‹Ù‘Ø§', translit: 'daallan' },
                    { arabic: 'Ø­ÙØ§Ø¬ÙÙ‘ÙƒÙ', translit: 'haajjaka' },
                    { arabic: 'Ø¯ÙØ§Ø¨ÙÙ‘Ø©Ù', translit: 'daabbatin' },
                    { arabic: 'Ø±ÙØ§Ø¯ÙÙ‘ÙƒÙ', translit: 'raaddika' },
                    { arabic: 'Ø®ÙØ§ØµÙÙ‘Ø©Ù‹', translit: 'khaassatan' },
                    { arabic: 'ÙƒÙØ§ÙÙÙ‘Ø©Ù‹', translit: 'kaaffatan' },
                    { arabic: 'Ø¨ÙØ¶ÙØ§Ø±ÙÙ‘Ù‡ÙÙ…Ù’', translit: 'bidaarrihi' },
                    { arabic: 'ØªÙØ­Ù’Ø¶ÙØ±ÙÙˆÙ†Ù', translit: 'tahduuroona' },
                    { arabic: 'Ø¬ÙØ§Ù†ÙŒÙ‘', translit: 'jaannun' },
                    { arabic: 'Ø§Ù°Ù…ÙÙŠÙ†Ù', translit: 'aameena' },
                    { arabic: 'Ø¸ÙØ§Ù†ÙÙ‘ÙŠÙ†Ù', translit: 'dhaanneena' },
                    { arabic: 'Ø¶ÙØ§Ù„ÙÙ‘ÙŠÙ†Ù', translit: 'daalleena' },
                    { arabic: 'Ø§Ù°Ù„Ù°Ø¦ÙÙ†Ù', translit: 'aalaa\'una' },
                    { arabic: 'Ø§Ù„Ù„Ù‡Ù', translit: 'Allaahu' }
                ]
            },
            22: {
                title: 'Alif at Word End',
                arabicTitle: 'Ø§Ù„Ø£ÙÙ„ÙÙ ÙÙÙŠ Ø¢Ø®ÙØ± Ø§Ù„ÙƒÙÙ„ÙÙ…ÙØ©',
                description: 'Practice words where alif at the end affects pronunciation',
                kidTip: 'Watch for the alif - does it stretch or stay silent?',
                type: 'combined',
                exercises: [
                    { arabic: 'Ø¹ÙÙ…ÙÙ‘', translit: '\'amma' },
                    { arabic: 'Ø¹ÙÙ…ÙÙ‘Ø§', translit: '\'ammaa' },
                    { arabic: 'ÙÙÙŠÙ…Ù', translit: 'feema' },
                    { arabic: 'ÙÙÙŠÙ…ÙØ§', translit: 'feemaa' },
                    { arabic: 'Ù…ÙÙ…ÙÙ‘', translit: 'mimma' },
                    { arabic: 'ÙƒÙØ§Ù†Ù', translit: 'kaana' },
                    { arabic: 'ÙƒÙØ§Ù†ÙØ§', translit: 'kaanaa' },
                    { arabic: 'Ø¥ÙÙ†ÙÙ‘', translit: 'inna' },
                    { arabic: 'Ø¥ÙÙ†ÙÙ‘Ø§', translit: 'innaa' },
                    { arabic: 'Ø¸ÙÙ†ÙÙ‘', translit: 'dhanna' },
                    { arabic: 'Ø¸ÙÙ†ÙÙ‘Ø§', translit: 'dhannaa' }
                ]
            },
            23: {
                title: 'Phrase Practice 1',
                arabicTitle: 'ØªÙÙ…ÙØ§Ø±ÙÙŠÙ† Ø§Ù„Ø¹ÙØ¨ÙØ§Ø±ÙØ§Øª Ù¡',
                description: 'Practice reading longer phrases from the Quran',
                kidTip: 'Read word by word, then put them together!',
                type: 'phrases',
                exercises: [
                    { arabic: 'Ø±ÙØ³ÙÙˆÙ„Ù Ù…ÙÙ†Ù Ø§Ù„Ù„Ù‡Ù', translit: 'rasoolum minAllaahi' },
                    { arabic: 'ÙƒÙØªÙØ§Ø¨ÙŒ Ù…ÙØ¨ÙÙŠÙ†ÙŒ', translit: 'kitaabum mubeen' },
                    { arabic: 'Ø®ÙÙŠÙ’Ø±ÙŒ Ù…ÙÙ†Ù’Ù‡Ù', translit: 'khayrum minhu' },
                    { arabic: 'Ø¨ÙØ­ÙØ¬ÙØ§Ø±ÙØ©Ù Ù…ÙÙ†Ù’ Ø³ÙØ¬ÙÙ‘ÙŠÙ„Ù', translit: 'bihijaaratim min sijjeel' },
                    { arabic: 'Ù„ÙÙˆÙ’Ø­Ù Ù…ÙØ­Ù’ÙÙÙˆØ¸Ù', translit: 'lawhim mahfoodh' },
                    { arabic: 'ØµÙØ­ÙÙÙ‹Ø§ Ù…ÙØ·ÙÙ‡ÙÙ‘Ø±ÙØ©Ù‹', translit: 'suhufam mutahharah' },
                    { arabic: 'Ø¹ÙÙŠØ´ÙØ©Ù‹ Ø±ÙØ§Ø¶ÙÙŠÙØ©Ù', translit: '\'eeshatam raadiyah' },
                    { arabic: 'Ø¬ÙÙ†ÙÙ‘ØªÙ Ù„ÙÙ‡ÙÙ…Ù’', translit: 'jannatil lahum' },
                    { arabic: 'Ø®ÙÙŠÙ’Ø±ÙŒ Ù„ÙÙ‘Ø£ÙÙ†Ù’ÙÙØ³ÙÙ‡ÙÙ…Ù’', translit: 'khayrul li\'anfusihim' },
                    { arabic: 'ØºÙÙÙÙˆØ±ÙŒ Ø±ÙØ­ÙÙŠÙ…ÙŒ', translit: 'ghafoorur raheem' },
                    { arabic: 'Ù‚ÙÙˆÙ’Ù„ÙÙˆØ§ Ù„ÙÙ‡ÙÙ…Ù’ Ù‚ÙÙˆÙ’Ù„Ù‹Ø§ Ù…ÙØ¹Ù’Ø±ÙÙˆÙÙ‹Ø§', translit: 'qooloo lahum qawlam ma\'roofaa' },
                    { arabic: 'Ù„ÙØ¢ Ø¥ÙÙ„Ù°Ù‡Ù Ø¥ÙÙ„ÙÙ‘Ø§ Ø§Ù„Ù„Ù‡Ù Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯ÙŒ Ø±ÙØ³ÙÙˆÙ„Ù Ø§Ù„Ù„Ù‡Ù', translit: 'laa ilaaha illAllaahu Muhammadur rasoolullaah' }
                ]
            },
            24: {
                title: 'Phrase Practice 2',
                arabicTitle: 'ØªÙÙ…ÙØ§Ø±ÙÙŠÙ† Ø§Ù„Ø¹ÙØ¨ÙØ§Ø±ÙØ§Øª Ù¢',
                description: 'More phrase practice with connected reading',
                kidTip: 'Connect the words smoothly when reading!',
                type: 'phrases',
                exercises: [
                    { arabic: 'Ù…ÙÙ†Ù’ Ù…ÙØ¢Ø¡Ù', translit: 'mim maa\'in' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ù…ÙØ«Ù’Ù„ÙÙ‡Ù', translit: 'mim mithlihi' },
                    { arabic: 'ÙˆÙØ¥ÙÙ†Ù’ Ù…ÙÙ†Ù’ Ø´ÙÙŠÙ’Ø¡Ù', translit: 'wa in min shay\'in' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ù„ÙØ¯ÙÙ†Ù’Ù‡Ù', translit: 'mil ladunhu' },
                    { arabic: 'Ù„ÙÙ…Ù’ ÙŠÙÙƒÙÙ†Ù’ Ù„ÙÙ‡Ù', translit: 'lam yakul lahu' },
                    { arabic: 'Ø£ÙÙ†Ù’ Ù„ÙÙ…Ù’ ÙŠÙØ±ÙÙ‡Ù', translit: 'al lam yarahu' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ø±ÙØ¨ÙÙ‘ÙƒÙ', translit: 'mir rabbika' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ø±ÙØ­ÙÙ…Ù', translit: 'mar rahima' },
                    { arabic: 'Ø£ÙÙ†Ù’ Ø±ÙØ¢Ù‡Ù', translit: 'ar raahu' },
                    { arabic: 'Ù‚ÙÙ„Ù’ Ø±ÙØ¨ÙÙ‘', translit: 'qur rabbi' },
                    { arabic: 'Ø¨ÙÙ„Ù’ Ø±ÙÙÙØ¹Ù', translit: 'bar rafa\'a' },
                    { arabic: 'Ø¹ÙØ§Ø¨ÙØ¯Ù Ù…ÙØ§', translit: '\'aabidu maa' },
                    { arabic: 'ÙˆÙØ¬ÙØ¯Ù’ØªÙÙ…Ù’', translit: 'wa jadtum' },
                    { arabic: 'ÙˆÙØ¹ÙÙ„Ù°Ø§ØªÙÙ‡ÙÙ…Ù’', translit: 'wa \'alaatuhum' },
                    { arabic: 'ÙˆÙØ¥ÙÙ†Ù’ Ø¹ÙØ°Ù’ØªÙÙ…Ù’', translit: 'wa in \'udtum' },
                    { arabic: 'ÙˆÙØ§ÙØ±Ù’ÙƒÙØ¨Ù’ Ù…ÙØ¹ÙÙ†ÙØ§', translit: 'warkab ma\'anaa' }
                ]
            },
            25: {
                title: 'Longer Phrases',
                arabicTitle: 'Ø¹ÙØ¨ÙØ§Ø±ÙØ§Øª Ø·ÙÙˆÙÙŠÙ„ÙØ©',
                description: 'Practice with longer Quranic phrases',
                kidTip: 'Take a breath, read carefully, you can do it!',
                type: 'phrases',
                exercises: [
                    { arabic: 'Ø­ÙØ¨Ù‹Ù‘Ø§ ÙˆÙÙ†ÙØ¨ÙØ§ØªÙ‹Ø§', translit: 'hubban wa nabaataa' },
                    { arabic: 'Ø¥ÙÙŠÙ…ÙØ§Ù†Ù‹Ø§ ÙˆÙÙ‚ÙØ§Ù„ÙÙˆØ§', translit: 'eemaanan wa qaaloo' },
                    { arabic: 'ÙˆÙÙ„ÙÙŠÙ‹Ù‘Ø§ ÙˆÙÙ„ÙØ§ Ù†ÙØµÙÙŠØ±Ù‹Ø§', translit: 'waliyyan walaa naseeraa' },
                    { arabic: 'Ù…ÙØ§Ù„ÙŒ ÙˆÙÙ„ÙØ§ Ø¨ÙÙ†ÙÙˆÙ†Ù', translit: 'maalun walaa banoon' },
                    { arabic: 'ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù ÙˆÙØ§Ø¬ÙÙÙØ©ÙŒ', translit: 'yawma\'idhin waajifah' },
                    { arabic: 'Ø®ÙÙŠÙ’Ø±Ù‹Ø§ ÙŠÙØ±ÙÙ‡Ù', translit: 'khayran yarahu' },
                    { arabic: 'ÙˆÙÙŠÙ’Ù„ÙŒ ÙŠÙÙˆÙ’Ù…ÙØ¦ÙØ°Ù', translit: 'waylun yawma\'idhin' },
                    { arabic: 'Ø¯ÙØ§ÙÙÙ‚Ù ÙŠÙØ®Ù’Ø±ÙØ¬Ù', translit: 'daafiqin yakhruju' },
                    { arabic: 'Ø£ÙÙ†Ù’ ÙŠÙØ´ÙØ¢Ø¡Ù', translit: 'an yashaa\'a' },
                    { arabic: 'ÙÙÙ…ÙÙ†Ù’ ÙŠÙØ¹Ù’Ù…ÙÙ„Ù’', translit: 'fa man ya\'mal' },
                    { arabic: 'ÙˆÙØ¥ÙÙ†Ù’ ÙŠÙØ±ÙÙŠØ¯ÙÙˆØ§', translit: 'wa in yureedoo' },
                    { arabic: 'Ø¥ÙÙ†Ù’ ÙŠÙÙ†Ù’ØµÙØ±Ù’ÙƒÙÙ…Ù’', translit: 'in yansurkum' }
                ]
            },
            26: {
                title: 'Noon Sakin Rules',
                arabicTitle: 'Ø£ÙØ­Ù’ÙƒÙØ§Ù… Ø§Ù„Ù†ÙÙ‘ÙˆÙ† Ø§Ù„Ø³ÙÙ‘Ø§ÙƒÙÙ†ÙØ©',
                description: 'When Noon Sakin or Tanween meets certain letters, the sound changes',
                kidTip: 'The "n" sound hides or merges with the next letter!',
                type: 'noon-rules',
                exercises: [
                    { arabic: 'Ù…ÙÙ†Ù’ Ø¨ÙØ¹Ù’Ø¯Ù', translit: 'mim ba\'di' },
                    { arabic: 'Ø¨ÙØ§Ù„Ù’Ø¬ÙÙ†Ù’Ø¨Ù', translit: 'bil junbi' },
                    { arabic: 'Ù„ÙÙŠÙÙ†Ù’Ø¨ÙØ°ÙÙ†ÙÙ‘', translit: 'li yunbadhanna' },
                    { arabic: 'Ø°ÙÙ†Ù’Ø¨Ù', translit: 'dhambin' },
                    { arabic: 'Ø£ÙÙ†Ù’Ø¨ÙÙŠÙØ¢Ø¡Ù', translit: 'ambiyaa\'a' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ø¨ÙØ®ÙÙ„Ù', translit: 'mam bakhila' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ø¨ÙÙŠÙ’Ù†Ù', translit: 'mim bayni' },
                    { arabic: 'Ø£ÙÙ†Ù’Ø¨ÙØªÙ’Ù†ÙØ§', translit: 'ambatnaa' },
                    { arabic: 'Ù„ÙÙ†ÙØ³Ù’ÙÙØ¹Ù‹Ø§ Ø¨ÙØ§Ù„Ù†ÙÙ‘Ø§ØµÙÙŠÙØ©Ù', translit: 'lanasfa\'am bin naasiyah' },
                    { arabic: 'Ø®ÙØ¨ÙÙŠØ±ÙŒ Ø¨ÙÙ…ÙØ§ ØªÙØ¹Ù’Ù…ÙÙ„ÙÙˆÙ†Ù', translit: 'khabeerum bimaa ta\'maloon' },
                    { arabic: 'Ø£ÙØ¨ÙØ¯Ù‹Ø§ Ø§ÙØ¨Ù’Ù…ÙØ§', translit: 'abadan ibmaa' },
                    { arabic: 'Ø¹ÙÙ„ÙÙŠÙ…ÙŒ Ø¨ÙÙ‡Ù', translit: '\'aleemum bihi' },
                    { arabic: 'Ø³ÙÙˆÙØ¢Ø¡ÙŒ Ø¨ÙÙŠÙ’Ù†ÙÙ†ÙØ§', translit: 'sawaa\'um baynanaa' }
                ]
            },
            27: {
                title: 'More Noon Rules',
                arabicTitle: 'Ø§Ù„Ù…ÙØ²ÙÙŠØ¯ Ù…ÙÙ†Ù’ Ø£ÙØ­Ù’ÙƒÙØ§Ù… Ø§Ù„Ù†ÙÙ‘ÙˆÙ†',
                description: 'Continue practicing Noon Sakin rules in context',
                kidTip: 'Listen for how the "n" sound changes!',
                type: 'noon-rules',
                exercises: [
                    { arabic: 'Ù‚ÙØ¯ÙÙŠØ±ÙŒ Ø§ÙÙ„ÙÙ‘Ø°ÙÙŠ', translit: 'qadeerun illadhee' },
                    { arabic: 'Ù„ÙÙ‡ÙÙ…Ù’Ø²ÙØ©ÙŒ Ø§ÙÙ„ÙÙ‘Ø°ÙÙŠ', translit: 'lahumazatun illadhee' },
                    { arabic: 'Ù†ÙÙˆØ­ÙŒ Ù„ÙØ¥ÙØ¨Ù’Ù†ÙÙ‡Ù', translit: 'noohul libnihi' },
                    { arabic: 'Ø®ÙÙŠÙ’Ø±Ù‹Ø§ Ø§Ù„Ù’ÙˆÙØµÙÙŠÙÙ‘Ø©Ù', translit: 'khayran il wasiyyah' },
                    { arabic: 'Ø´ÙÙŠÙ’Ø¦Ù‹Ø§ Ø§ÙØªÙÙ‘Ø®ÙØ°ÙÙ‡ÙØ§', translit: 'shay\'an ittakhadhahaa' }
                ]
            },
            28: {
                title: 'Waqf (Stopping)',
                arabicTitle: 'Ø§Ù„ÙˆÙÙ‚Ù’Ù',
                description: 'Practice stopping at the end of verses with proper pronunciation',
                kidTip: 'When you see the stop sign (Ûš Û– Û—), pause and breathe!',
                type: 'waqf',
                exercises: [
                    { arabic: 'Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ§Ù„Ù„Ù‡Ù Ù…ÙÙ†Ù Ø§Ù„Ø´ÙÙ‘ÙŠÙ’Ø·ÙØ§Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø¬ÙÙŠÙ…Ù Û', translit: 'a\'oodhu billaahi minash shaytaanir rajeem' },
                    { arabic: 'Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ Û', translit: 'qul huwallaahu ahad' },
                    { arabic: 'Ù…ÙÙ†Ù’ Ø®ÙÙˆÙ’ÙÙ Û ÙˆÙØ¬ÙÙ†ÙÙ‘ØªÙ', translit: 'min khawf, wa jannatin' },
                    { arabic: 'Ø§Ù„Ù’ÙÙØ§ÙÙØ§ Û Ø¥ÙØ°ÙØ§ Ø­ÙØ³ÙØ¯Ù Û', translit: 'al faafaa, idhaa hasad' },
                    { arabic: 'Ù„ÙÙ…ÙØ§ ÙŠÙØ±ÙÙŠØ¯Ù Û Ø¨ÙØ£ÙØµÙ’Ø­ÙØ¨Ù', translit: 'limaa yureed, bi ashaabi' },
                    { arabic: 'Ø§Ù„Ù’ÙÙÙŠÙ„Ù Û Ø£ÙØ¨ÙÙŠ Ù„ÙÙ‡ÙØ¨Ù ÙˆÙØªÙØ¨ÙÙ‘ Û', translit: 'al feel, abee lahab wa tabb' },
                    { arabic: 'Ù„ÙÙ…ÙÙ†Ù’ Ø®ÙØ´ÙÙŠÙ Ø±ÙØ¨ÙÙ‘Ù‡Ù Û', translit: 'liman khashiya rabbahu' },
                    { arabic: 'Ù„ÙØªÙØ¹Ù’Ø¬ÙÙ„Ù Ø¨ÙÙ‡Ù Û Ø¥ÙÙ†ÙÙ‘Ù‡Ù ÙƒÙØ§Ù†Ù ØªÙÙˆÙÙ‘Ø§Ø¨Ù‹Ø§ Û', translit: 'lita\'jala bihi, innahu kaana tawwaabaa' },
                    { arabic: 'ÙˆÙØ´ÙØ§Ù‡ÙØ¯Ù ÙˆÙÙ‘', translit: 'wa shaahidiw wa' },
                    { arabic: 'Ù…ÙØ´Ù’Ù‡ÙÙˆØ¯Ù Û', translit: 'mashhood' },
                    { arabic: 'Ù…ÙÙ†Ù’Ù‡ÙÙ…Ù’ ØªÙÙ‚ÙØ©Ù‹ Û Ø°ÙØ±ÙÙ‘ÙŠÙÙ‘Ø©Ù‹ Ø·ÙÙŠÙÙ‘Ø¨ÙØ©Ù‹ Û', translit: 'minhum tuqah, dhurriyyatan tayyibah' }
                ]
            },
            29: {
                title: 'Huroof Muqatta\'at',
                arabicTitle: 'Ø§Ù„Ø­ÙØ±ÙÙˆÙ Ø§Ù„Ù…ÙÙ‚ÙØ·ÙÙ‘Ø¹ÙØ§Øª',
                symbol: 'Ø§Ù„Ù“Ù…Ù“',
                description: 'The mysterious letters at the start of some Surahs - read each letter separately',
                kidTip: 'Spell out each letter with its stretched sound!',
                type: 'muqattaat',
                exercises: [
                    { arabic: 'Ø§Ù„Ù“Ù…Ù“', translit: 'Alif-Laam-Meem' },
                    { arabic: 'Ø§Ù„Ù“Ù…Ù“ØµÙ“', translit: 'Alif-Laam-Meem-Saad' },
                    { arabic: 'Ø§Ù„Ù“Ø±Ù°', translit: 'Alif-Laam-Raa' },
                    { arabic: 'Ø§Ù„Ù“Ù…Ù“Ø±Ù°', translit: 'Alif-Laam-Meem-Raa' },
                    { arabic: 'ÙƒÙ“Ù‡Ù°ÙŠÙ°Ø¹Ù“ØµÙ“', translit: 'Kaaf-Haa-Yaa-\'Ayn-Saad' },
                    { arabic: 'Ø·Ù°Ù‡Ù°', translit: 'Taa-Haa' },
                    { arabic: 'Ø·Ù°Ø³Ù“Ù…Ù“', translit: 'Taa-Seen-Meem' },
                    { arabic: 'Ø·Ù°Ø³Ù“', translit: 'Taa-Seen' },
                    { arabic: 'ÙŠÙ°Ø³Ù“', translit: 'Yaa-Seen' },
                    { arabic: 'ØµÙ“', translit: 'Saad' },
                    { arabic: 'Ø­Ù°Ù…Ù“', translit: 'Haa-Meem' },
                    { arabic: 'Ø¹Ù“Ø³Ù“Ù‚Ù“', translit: '\'Ayn-Seen-Qaaf' },
                    { arabic: 'Ù‚Ù“', translit: 'Qaaf' },
                    { arabic: 'Ù†Ù“', translit: 'Noon' }
                ]
            }
        };

        // =====================================================
        // APP STATE
        // =====================================================

        let currentLesson = 3;
        let practiceItems = new Set();
        let shuffleMode = false;
        let completedLessons = new Set();
        let exerciseChunk = 0;
        const CHUNK_SIZE = 10;

        // Long press handling
        const LONG_PRESS_DURATION = 500;
        let pressTimer = null;
        let currentPressedCard = null;

        // Practice mode
        let practiceIndex = 0;
        let practiceArray = [];

        // =====================================================
        // INITIALIZATION
        // =====================================================

        function init() {
            initTTS();
            renderLessonNav();
            renderLesson(currentLesson);
            setupEventListeners();
            loadProgress();
        }

        function loadProgress() {
            try {
                const saved = localStorage.getItem('qaidaProgress');
                if (saved) {
                    const data = JSON.parse(saved);
                    completedLessons = new Set(data.completed || []);
                    updateLessonNavProgress();
                }
            } catch (e) {
                console.log('No saved progress');
            }
        }

        function saveProgress() {
            try {
                localStorage.setItem('qaidaProgress', JSON.stringify({
                    completed: Array.from(completedLessons)
                }));
            } catch (e) {
                console.log('Could not save progress');
            }
        }

        // =====================================================
        // LESSON NAVIGATION
        // =====================================================

        function renderLessonNav() {
            const nav = document.getElementById('lessonsNav');
            const lessonNums = Object.keys(lessons).map(Number).sort((a, b) => a - b);

            nav.innerHTML = lessonNums.map(num => `
                <button class="lesson-tab ${num === currentLesson ? 'active' : ''} ${completedLessons.has(num) ? 'completed' : ''}"
                        data-lesson="${num}">
                    ${num}. ${lessons[num].title}
                </button>
            `).join('');
        }

        function updateLessonNavProgress() {
            document.querySelectorAll('.lesson-tab').forEach(tab => {
                const num = parseInt(tab.dataset.lesson);
                if (completedLessons.has(num)) {
                    tab.classList.add('completed');
                }
            });
        }

        // =====================================================
        // LESSON RENDERING
        // =====================================================

        function renderLesson(lessonNum) {
            currentLesson = lessonNum;
            exerciseChunk = 0;
            const lesson = lessons[lessonNum];
            const content = document.getElementById('lessonContent');

            // Update nav
            document.querySelectorAll('.lesson-tab').forEach(tab => {
                tab.classList.toggle('active', parseInt(tab.dataset.lesson) === lessonNum);
            });

            let html = `
                <div class="lesson-header">
                    <h2>Lesson ${lessonNum}: ${lesson.title}</h2>
                    ${lesson.arabicTitle ? `<div class="arabic-title">${lesson.arabicTitle}</div>` : ''}
                    <p class="description">${lesson.description}</p>
                    ${lesson.kidTip ? `<div class="kid-tip">${lesson.kidTip}</div>` : ''}
                </div>
            `;

            // Symbol intro card for haraka lessons
            if (lesson.symbol) {
                html += `
                    <div class="symbol-card">
                        <div class="symbol">${lesson.symbol}</div>
                        <p>This is the ${lesson.title} symbol</p>
                    </div>
                `;
            }

            // Alphabet grid (for lesson 1)
            if (lesson.type === 'alphabet') {
                html += `
                    <div class="section-header">
                        <h3>The Letters</h3>
                    </div>
                    <div class="card-grid" id="alphabetGrid"></div>
                `;
            }

            // Letters grid (for lessons that show all letters with haraka)
            if (lesson.type === 'haraka' || lesson.type === 'tanween') {
                html += `
                    <div class="section-header">
                        <h3>Letters with ${lesson.title}</h3>
                    </div>
                    <div class="card-grid" id="lettersGrid"></div>
                `;
            }

            // Custom letters grid (for madd, etc.)
            if (lesson.letters) {
                html += `
                    <div class="section-header">
                        <h3>Practice Sounds</h3>
                    </div>
                    <div class="card-grid" id="lettersGrid"></div>
                `;
            }

            // Exercises
            if (lesson.exercises && lesson.exercises.length > 0) {
                const totalChunks = Math.ceil(lesson.exercises.length / CHUNK_SIZE);
                html += `
                    <div class="section-header">
                        <h3>Exercises</h3>
                        ${totalChunks > 1 ? `
                            <div class="chunk-nav">
                                <button id="prevChunk" ${exerciseChunk === 0 ? 'disabled' : ''}>â†</button>
                                <span id="chunkIndicator">${exerciseChunk + 1}/${totalChunks}</span>
                                <button id="nextChunk" ${exerciseChunk >= totalChunks - 1 ? 'disabled' : ''}>â†’</button>
                            </div>
                        ` : ''}
                    </div>
                    <div class="card-grid exercise-grid" id="exerciseGrid"></div>
                `;
            }

            // Mark complete button
            html += `
                <button class="lesson-complete-btn" id="completeBtn">
                    ${completedLessons.has(lessonNum) ? 'âœ“ Completed - Review Again' : 'Mark as Complete'}
                </button>
            `;

            content.innerHTML = html;

            // Render grids
            if (lesson.type === 'alphabet') {
                renderAlphabetGrid();
            } else if (lesson.type === 'haraka' || lesson.type === 'tanween') {
                renderHarakaGrid(lesson);
            } else if (lesson.letters) {
                renderCustomLettersGrid(lesson);
            }

            if (lesson.exercises) {
                renderExerciseGrid(lesson);
            }

            // Setup chunk navigation
            setupChunkNav(lesson);

            // Setup complete button
            document.getElementById('completeBtn').addEventListener('click', () => {
                completedLessons.add(lessonNum);
                saveProgress();
                updateLessonNavProgress();
                document.getElementById('completeBtn').textContent = 'âœ“ Completed - Review Again';
            });
        }

        function renderAlphabetGrid() {
            const grid = document.getElementById('alphabetGrid');
            if (!grid) return;

            grid.innerHTML = arabicLetters.map((item, index) => {
                const id = `${currentLesson}-alpha-${index}`;
                return createCard(id, item.letter, item.name);
            }).join('');

            setupCardInteractions(grid);
        }

        function renderHarakaGrid(lesson) {
            const grid = document.getElementById('lettersGrid');
            if (!grid) return;

            const letters = arabicLetters;

            grid.innerHTML = letters.map((item, index) => {
                const arabic = item.letter + lesson.haraka;
                const id = `${currentLesson}-letter-${index}`;
                // Combine consonant sound with vowel sound
                const translit = item.sound + lesson.sound;
                return createCard(id, arabic, translit);
            }).join('');

            setupCardInteractions(grid);
        }

        function renderCustomLettersGrid(lesson) {
            const grid = document.getElementById('lettersGrid');
            if (!grid) return;

            grid.innerHTML = lesson.letters.map((item, index) => {
                const id = `${currentLesson}-custom-${index}`;
                return createCard(id, item.arabic, item.translit);
            }).join('');

            setupCardInteractions(grid);
        }

        function renderExerciseGrid(lesson) {
            const grid = document.getElementById('exerciseGrid');
            if (!grid) return;

            let exercises = [...lesson.exercises];

            if (shuffleMode) {
                exercises = shuffleArray(exercises);
            }

            const start = exerciseChunk * CHUNK_SIZE;
            const end = Math.min(start + CHUNK_SIZE, exercises.length);
            const chunk = exercises.slice(start, end);

            grid.innerHTML = chunk.map((item, index) => {
                const id = `${currentLesson}-ex-${start + index}`;
                return createCard(id, item.arabic, item.translit, true);
            }).join('');

            setupCardInteractions(grid);
        }

        function createCard(id, arabic, translit, isExercise = false) {
            const needsPractice = practiceItems.has(id);
            return `
                <div class="card ${isExercise ? 'exercise-card' : ''} ${needsPractice ? 'needs-practice' : ''}"
                     data-id="${id}" data-arabic="${arabic}" data-translit="${translit}">
                    <div class="arabic">${arabic}</div>
                    <div class="translit">${translit}</div>
                    <div class="practice-dot"></div>
                </div>
            `;
        }

        // =====================================================
        // TEXT-TO-SPEECH
        // =====================================================

        let hasArabicVoice = false;

        function initTTS() {
            const checkVoices = () => {
                const voices = speechSynthesis.getVoices();
                hasArabicVoice = voices.some(v => v.lang.startsWith('ar'));
            };

            // Voices load asynchronously
            if (speechSynthesis.onvoiceschanged !== undefined) {
                speechSynthesis.onvoiceschanged = checkVoices;
            }
            checkVoices();
        }

        function speakArabic(text) {
            // Cancel any ongoing speech
            speechSynthesis.cancel();

            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ar';
            utterance.rate = 0.8; // Slightly slower for learning

            speechSynthesis.speak(utterance);
        }

        function canSpeakArabic() {
            return hasArabicVoice;
        }

        function setupChunkNav(lesson) {
            const prevBtn = document.getElementById('prevChunk');
            const nextBtn = document.getElementById('nextChunk');

            if (prevBtn) {
                prevBtn.addEventListener('click', () => {
                    if (exerciseChunk > 0) {
                        exerciseChunk--;
                        renderExerciseGrid(lesson);
                        updateChunkIndicator(lesson);
                        setupChunkNav(lesson);
                    }
                });
            }

            if (nextBtn) {
                nextBtn.addEventListener('click', () => {
                    const totalChunks = Math.ceil(lesson.exercises.length / CHUNK_SIZE);
                    if (exerciseChunk < totalChunks - 1) {
                        exerciseChunk++;
                        renderExerciseGrid(lesson);
                        updateChunkIndicator(lesson);
                        setupChunkNav(lesson);
                    }
                });
            }
        }

        function updateChunkIndicator(lesson) {
            const indicator = document.getElementById('chunkIndicator');
            const prevBtn = document.getElementById('prevChunk');
            const nextBtn = document.getElementById('nextChunk');

            if (indicator && lesson.exercises) {
                const totalChunks = Math.ceil(lesson.exercises.length / CHUNK_SIZE);
                indicator.textContent = `${exerciseChunk + 1}/${totalChunks}`;

                if (prevBtn) prevBtn.disabled = exerciseChunk === 0;
                if (nextBtn) nextBtn.disabled = exerciseChunk >= totalChunks - 1;
            }
        }

        // =====================================================
        // CARD INTERACTIONS
        // =====================================================

        function setupCardInteractions(container) {
            const cards = container.querySelectorAll('.card');

            cards.forEach(card => {
                // Tap to play sound
                card.addEventListener('click', (e) => {
                    if (!card.classList.contains('pressing')) {
                        const arabic = card.dataset.arabic;
                        if (arabic && window.speechSynthesis) {
                            // Play audio - browser will use best available voice
                            speakArabic(arabic);
                            card.classList.add('playing');
                            setTimeout(() => card.classList.remove('playing'), 300);
                            // Also briefly show transliteration as visual feedback
                            card.classList.add('show-translit');
                            setTimeout(() => card.classList.remove('show-translit'), 1500);
                        } else {
                            // No TTS: show transliteration only
                            card.classList.toggle('show-translit');
                            if (card.classList.contains('show-translit')) {
                                setTimeout(() => card.classList.remove('show-translit'), 2000);
                            }
                        }
                    }
                });

                // Long press for practice marking
                card.addEventListener('mousedown', (e) => startPress(card, e));
                card.addEventListener('mouseup', () => endPress(card));
                card.addEventListener('mouseleave', () => cancelPress(card));

                let touchStartX, touchStartY, hasMoved;

                card.addEventListener('touchstart', (e) => {
                    const touch = e.touches[0];
                    touchStartX = touch.clientX;
                    touchStartY = touch.clientY;
                    hasMoved = false;
                    startPress(card, e);
                }, { passive: true });

                card.addEventListener('touchmove', (e) => {
                    const touch = e.touches[0];
                    const deltaX = Math.abs(touch.clientX - touchStartX);
                    const deltaY = Math.abs(touch.clientY - touchStartY);
                    if (deltaX > 10 || deltaY > 10) {
                        hasMoved = true;
                        cancelPress(card);
                    }
                }, { passive: true });

                card.addEventListener('touchend', (e) => {
                    const wasQuickTap = !hasMoved && pressTimer; // Timer still running = quick tap
                    endPress(card);

                    if (wasQuickTap) {
                        e.preventDefault(); // Prevent ghost click
                        // Handle tap - play sound
                        const arabic = card.dataset.arabic;
                        if (arabic && window.speechSynthesis) {
                            speakArabic(arabic);
                            card.classList.add('playing');
                            setTimeout(() => card.classList.remove('playing'), 300);
                            card.classList.add('show-translit');
                            setTimeout(() => card.classList.remove('show-translit'), 1500);
                        }
                    }
                });
                card.addEventListener('touchcancel', () => cancelPress(card));
            });
        }

        function startPress(card, e) {
            currentPressedCard = card;
            card.classList.add('pressing');

            pressTimer = setTimeout(() => {
                togglePractice(card);
                card.classList.remove('pressing');
                currentPressedCard = null;
            }, LONG_PRESS_DURATION);
        }

        function endPress(card) {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }
            card.classList.remove('pressing');
            currentPressedCard = null;
        }

        function cancelPress(card) {
            if (pressTimer) {
                clearTimeout(pressTimer);
                pressTimer = null;
            }
            card.classList.remove('pressing');
            currentPressedCard = null;
        }

        function togglePractice(card) {
            const id = card.dataset.id;

            if (practiceItems.has(id)) {
                practiceItems.delete(id);
                card.classList.remove('needs-practice');
            } else {
                practiceItems.add(id);
                card.classList.add('needs-practice');
            }

            updatePracticeCount();
        }

        function updatePracticeCount() {
            const count = practiceItems.size;
            document.getElementById('practiceCount').textContent = count;
            document.getElementById('practiceBtn').disabled = count === 0;
        }

        // =====================================================
        // PRACTICE MODE
        // =====================================================

        function openPracticeMode() {
            if (practiceItems.size === 0) return;

            practiceArray = Array.from(practiceItems);
            practiceIndex = 0;

            document.getElementById('practiceMode').classList.add('active');
            renderPracticeCard();
        }

        function closePracticeMode() {
            document.getElementById('practiceMode').classList.remove('active');
        }

        function renderPracticeCard() {
            if (practiceArray.length === 0) {
                closePracticeMode();
                return;
            }

            const id = practiceArray[practiceIndex];
            const card = document.querySelector(`[data-id="${id}"]`);

            let arabic = '';
            let translit = '';

            if (card) {
                arabic = card.querySelector('.arabic').textContent;
                translit = card.dataset.translit;
            } else {
                // Card might not be rendered (different lesson), find from data
                const parts = id.split('-');
                const lessonNum = parseInt(parts[0]);
                const lesson = lessons[lessonNum];

                if (parts[1] === 'letter') {
                    const idx = parseInt(parts[2]);
                    const letter = arabicLetters[idx];
                    arabic = letter.letter + lesson.haraka;
                    translit = letter.name.toLowerCase() + lesson.sound;
                } else if (parts[1] === 'ex') {
                    const idx = parseInt(parts[2]);
                    arabic = lesson.exercises[idx].arabic;
                    translit = lesson.exercises[idx].translit;
                } else if (parts[1] === 'custom') {
                    const idx = parseInt(parts[2]);
                    arabic = lesson.letters[idx].arabic;
                    translit = lesson.letters[idx].translit;
                }
            }

            document.getElementById('practiceArabic').textContent = arabic;
            document.getElementById('practiceTranslit').textContent = translit;
            document.getElementById('practiceTranslit').style.opacity = '0';
            document.getElementById('practiceProgress').textContent = `${practiceIndex + 1} of ${practiceArray.length}`;

            // Update nav buttons
            document.getElementById('practicePrev').disabled = practiceIndex === 0;
            document.getElementById('practiceNext').disabled = practiceIndex >= practiceArray.length - 1;
        }

        function practiceNext() {
            if (practiceIndex < practiceArray.length - 1) {
                practiceIndex++;
                renderPracticeCard();
            }
        }

        function practicePrev() {
            if (practiceIndex > 0) {
                practiceIndex--;
                renderPracticeCard();
            }
        }

        function unmarkCurrentPractice() {
            const id = practiceArray[practiceIndex];
            practiceItems.delete(id);

            // Update the card if visible
            const card = document.querySelector(`[data-id="${id}"]`);
            if (card) {
                card.classList.remove('needs-practice');
            }

            // Remove from practice array
            practiceArray.splice(practiceIndex, 1);

            // Adjust index if needed
            if (practiceIndex >= practiceArray.length) {
                practiceIndex = Math.max(0, practiceArray.length - 1);
            }

            updatePracticeCount();

            if (practiceArray.length === 0) {
                closePracticeMode();
            } else {
                renderPracticeCard();
            }
        }

        // =====================================================
        // EVENT LISTENERS
        // =====================================================

        function setupEventListeners() {
            // Lesson navigation
            document.getElementById('lessonsNav').addEventListener('click', (e) => {
                if (e.target.classList.contains('lesson-tab')) {
                    renderLesson(parseInt(e.target.dataset.lesson));
                }
            });

            // Shuffle toggle
            document.getElementById('shuffleBtn').addEventListener('click', () => {
                shuffleMode = !shuffleMode;
                document.getElementById('shuffleBtn').classList.toggle('active', shuffleMode);
                renderLesson(currentLesson);
            });

            // Practice mode
            document.getElementById('practiceBtn').addEventListener('click', openPracticeMode);
            document.getElementById('practiceExit').addEventListener('click', closePracticeMode);
            document.getElementById('practiceNext').addEventListener('click', practiceNext);
            document.getElementById('practicePrev').addEventListener('click', practicePrev);
            document.getElementById('unmarkBtn').addEventListener('click', unmarkCurrentPractice);

            // Tap practice card to show transliteration
            document.getElementById('practiceCard').addEventListener('click', (e) => {
                if (e.target.id !== 'unmarkBtn') {
                    const translit = document.getElementById('practiceTranslit');
                    translit.style.opacity = translit.style.opacity === '1' ? '0' : '1';
                }
            });

            // Keyboard navigation in practice mode
            document.addEventListener('keydown', (e) => {
                if (!document.getElementById('practiceMode').classList.contains('active')) return;

                if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                    practiceNext();
                } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                    practicePrev();
                } else if (e.key === 'Escape') {
                    closePracticeMode();
                } else if (e.key === ' ') {
                    e.preventDefault();
                    const translit = document.getElementById('practiceTranslit');
                    translit.style.opacity = translit.style.opacity === '1' ? '0' : '1';
                }
            });
        }

        // =====================================================
        // UTILITIES
        // =====================================================

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // =====================================================
        // START APP
        // =====================================================

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
